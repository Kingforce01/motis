(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6678)}])},6678:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ge}});var a=n(5893),r=n(7294),i=n(9008),s=n(1163),o=n(381),c=n.n(o),l=n(5518),u=n(251),d=n.n(u);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(c){r=!0,i=c}finally{try{a||null==o.return||o.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var h=function(e,t){return null==t?"":e.unix()>=t.begin&&e.unix()<t.end?"valid-day":"invalid-day"},v=function(e){var t=function(t){E.add(1,"d"),A.push((0,a.jsx)("td",{className:"out-of-month ".concat(D(y.daysInMonth()-C()+2+t,E)).concat(h(E,e.scheduleInfo)),onClick:function(){var n=C();S(y.subtract(1,"month").date(y.daysInMonth()-n+2+t)),k(y.format(e.translation.dateFormat)),e.setCurrentDate(y.clone()),j(!1)},children:E.date()},"previous-month"+t.toString()))},n=function(t){E.add(1,"d"),I.push((0,a.jsx)("td",{className:"in-month ".concat(D(t,E)).concat(T(t)).concat(h(E,e.scheduleInfo)),onClick:function(){S(y.date(t)),k(y.format(e.translation.dateFormat)),e.setCurrentDate(y.clone()),j(!1)},children:t},t))},i=function(t){E.add(1,"d"),F.push((0,a.jsx)("td",{className:"out-of-month ".concat(D(t,E)).concat(h(E,e.scheduleInfo)),onClick:function(){S(y.add(1,"month").date(t)),k(y.format(e.translation.dateFormat)),e.setCurrentDate(y.clone()),j(!1)},children:t},"next-month"+t.toString()))},s=r.useRef(null),o=r.useRef(null),l=r.useRef(null),u=r.useRef(null),d=m(r.useState(""),2),v=d[0],f=d[1],g=m(r.useState(!1),2),x=g[0],j=g[1],b=m(r.useState(c()()),2),y=b[0],S=b[1],N=m(r.useState(null),2),w=N[0],k=N[1];!function(e,t,n,a,i,s){r.useEffect((function(){var r=function(r){e.current&&!e.current.contains(r.target)&&t.current&&!t.current.contains(r.target)&&n.current&&!n.current.contains(r.target)&&a.current&&!a.current.contains(r.target)&&(i(!1),s(""))};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}}),[e])}(s,o,l,u,j,f),r.useEffect((function(){e.currentDate&&(S(e.currentDate),k(e.currentDate.format(e.translation.dateFormat)))}),[e.currentDate]);for(var _=e.translation.search.weekDays.map((function(e){return(0,a.jsx)("th",{className:"week-day",children:e},e.toString())})),C=function(){var e=c()(y).startOf("month").format("d");return 0==e?7:e},D=function(t,n){var a=c()();return e.scheduleInfo&&"invalid-day"===h(a,e.scheduleInfo)&&(a=c().unix(e.scheduleInfo.begin)),a.format(e.translation.dateFormat)===c()(n).date(t).format(e.translation.dateFormat)?"today ":""},T=function(e){return y.format("D")==e?"selected ":""},A=[],E=c()(y).utc().startOf("month").subtract(C(),"d"),O=0;O<C()-1;O++)t(O);var I=[];E=c()(y).utc().startOf("month").subtract(1,"d");for(var z=1;z<=y.daysInMonth();z++)n(z);var F=[];E=c()(y).utc().startOf("month").add(1,"M").subtract(1,"d");for(var P=1;P<=42-p(A).concat(p(I)).length;P++)i(P);var M=p(A).concat(p(I),p(F)),H=[],R=[];M.forEach((function(e,t){t%7!==0?R.push(e):(H.push(R),(R=[]).push(e)),t===M.length-1&&H.push(R)}));var L=H.map((function(e,t){return(0,a.jsx)("tr",{children:e},t)}));return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"label",children:e.translation.search.date}),(0,a.jsxs)("div",{className:"gb-input-group ".concat(v),children:[(0,a.jsx)("div",{className:"gb-input-icon",children:(0,a.jsx)("i",{className:"icon",children:"event"})}),(0,a.jsx)("input",{className:"gb-input",ref:o,tabIndex:3,value:w||"",onChange:function(t){k(t.currentTarget.value),e.translation.search.dateInputHandler(t.currentTarget.value,y,S)},onKeyDown:function(t){"Enter"==t.key&&(k(y.format(e.translation.dateFormat)),e.setCurrentDate(y.clone()))},onFocus:function(){j(!0),f("gb-input-group-selected")}}),(0,a.jsx)("div",{className:"gb-input-widget",children:(0,a.jsxs)("div",{className:"day-buttons",children:[(0,a.jsx)("div",{children:(0,a.jsx)("a",{className:"gb-button gb-button-small gb-button-circle gb-button-outline gb-button-PRIMARY_COLOR disable-select",ref:l,onClick:function(){S(y.subtract(1,"d")),k(y.format(e.translation.dateFormat)),e.setCurrentDate(y.clone())},children:(0,a.jsx)("i",{className:"icon",children:"chevron_left"})})}),(0,a.jsx)("div",{children:(0,a.jsx)("a",{className:"gb-button gb-button-small gb-button-circle gb-button-outline gb-button-PRIMARY_COLOR disable-select",ref:u,onClick:function(){S(y.add(1,"d")),k(y.format(e.translation.dateFormat)),e.setCurrentDate(y.clone())},children:(0,a.jsx)("i",{className:"icon",children:"chevron_right"})})})]})})]})]}),(0,a.jsxs)("div",{ref:s,className:x?"paper calendar":"paper calendar hide",children:[(0,a.jsxs)("div",{className:"month",children:[(0,a.jsx)("i",{className:"icon",onClick:function(){S(y.subtract(1,"month")),k(y.format(e.translation.dateFormat)),e.setCurrentDate(y.clone())},children:"chevron_left"}),(0,a.jsx)("span",{className:"month-name",children:y?e.translation.search.months[y.month()]+" "+y.year():""}),(0,a.jsx)("i",{className:"icon",onClick:function(){S(y.add(1,"month")),k(y.format(e.translation.dateFormat)),e.setCurrentDate(y.clone())},children:"chevron_right"})]}),(0,a.jsxs)("table",{className:"calendar-day",children:[(0,a.jsx)("thead",{className:"weekdays",children:(0,a.jsx)("tr",{children:_})}),(0,a.jsx)("tbody",{className:"calendardays",children:L})]})]})]})},f=function(e,t){try{"stationEvent"!==e&&localStorage.setItem(e,JSON.stringify(t))}catch(n){}},g=function(e){try{return JSON.parse(localStorage.getItem(e))}catch(t){}};function x(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var j=function(e){var t=(0,r.useState)(!1),n=t[0],i=t[1],s=(0,r.useState)(15),o=s[0],c=s[1],l=(0,r.useState)(void 0),u=l[0],m=l[1],p=(0,r.useState)("default"),h=p[0],v=p[1],j=(0,r.useState)(!1),b=j[0],y=j[1],S=(0,r.useState)(15),N=S[0],w=S[1],k=(0,r.useState)(void 0),_=k[0],C=k[1],D=(0,r.useState)(!1),T=D[0],A=D[1],E=(0,r.useState)(15),O=E[0],I=E[1],z=(0,r.useState)(void 0),F=z[0],P=z[1],M=(0,r.useState)(!1),H=M[0],R=M[1],L=(0,r.useState)(!1),W=L[0],B=L[1];r.useEffect((function(){var t=g(e.localStorageModes);null!==t?(i(t.walk.enabled),c(t.walk.search_profile.max_duration),v(t.walk.search_profile.profile),y(t.bike.enabled),w(t.bike.max_duration),A(t.car.enabled),I(t.car.max_duration),R(t.car.use_parking)):f(e.localStorageModes,{walk:{enabled:!1,search_profile:{profile:"default",max_duration:15}},bike:{enabled:!1,max_duration:15},car:{enabled:!1,max_duration:15,use_parking:!1}}),window.portEvents.sub("mapInitFinished",(function(){window.portEvents.pub("setPPRSearchOptions",{duration_limit:60*o,profile:h})}))}),[]),r.useEffect((function(){n&&(m({mode_type:"FootPPR",mode:{search_options:{profile:h,duration_limit:60*o}}}),window.portEvents.pub("setPPRSearchOptions",{duration_limit:60*o,profile:h}))}),[o,n,h]),r.useEffect((function(){b&&C({mode_type:"Bike",mode:{max_duration:60*N}})}),[N,b]),r.useEffect((function(){T&&P(H?{mode_type:"CarParking",mode:{max_car_duration:60*O,ppr_search_options:{profile:"default",duration_limit:300}}}:{mode_type:"Car",mode:{max_duration:60*O}})}),[O,T,H]);return(0,a.jsxs)("div",{className:"mode-picker",children:[(0,a.jsxs)("div",{className:"mode-picker-btn",onClick:function(){return B(!0)},children:[(0,a.jsx)("div",{className:n?"mode enabled":"mode",children:(0,a.jsx)("i",{className:"icon",children:"directions_walk"})}),(0,a.jsx)("div",{className:b?"mode enabled":"mode",children:(0,a.jsx)("i",{className:"icon",children:"directions_bike"})}),(0,a.jsx)("div",{className:T?"mode enabled":"mode",children:(0,a.jsx)("i",{className:"icon",children:"directions_car"})})]}),(0,a.jsxs)("div",{className:"mode-picker-editor",style:W?{display:"flex"}:{display:"none"},children:[(0,a.jsxs)("div",{className:"header",children:[(0,a.jsx)("div",{className:"sub-overlay-close",onClick:function(){var t=function(){var e=[];return n&&(e=[u]),b&&(e=x(e).concat([_])),T&&(e=x(e).concat([F])),e}();d()(t,e.modes)||(e.setModes(t),f(e.localStorageModes,{walk:{enabled:n,search_profile:{profile:h,max_duration:o}},bike:{enabled:b,max_duration:N},car:{enabled:T,max_duration:O,use_parking:H}})),B(!1)},children:(0,a.jsx)("i",{className:"icon",children:"close"})}),(0,a.jsx)("div",{className:"title",children:e.title})]}),(0,a.jsxs)("div",{className:"content",children:[(0,a.jsxs)("fieldset",{className:"mode walk",children:[(0,a.jsx)("legend",{className:"mode-header",children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:n,onChange:function(){i(!n)}}),e.translation.connections.walk]})}),(0,a.jsxs)("div",{className:"option",children:[(0,a.jsx)("div",{className:"label",children:e.translation.search.searchProfile.profile}),(0,a.jsx)("div",{className:"profile-picker",children:(0,a.jsxs)("select",{onChange:function(e){return v(e.target.value)},defaultValue:h.toString(),children:[(0,a.jsx)("option",{value:"default",children:e.translation.searchProfiles.default}),(0,a.jsx)("option",{value:"accessibility1",children:e.translation.searchProfiles.accessibility1}),(0,a.jsx)("option",{value:"wheelchair",children:e.translation.searchProfiles.wheelchair}),(0,a.jsx)("option",{value:"elevation",children:e.translation.searchProfiles.elevation})]})})]}),(0,a.jsxs)("div",{className:"option",children:[(0,a.jsx)("div",{className:"label",children:e.translation.search.maxDuration}),(0,a.jsxs)("div",{className:"numeric slider control",children:[(0,a.jsx)("input",{type:"range",min:"0",max:"30",step:"1",value:o,onChange:function(e){return c(e.currentTarget.valueAsNumber)}}),(0,a.jsx)("input",{type:"text",value:o,onChange:function(e){return c(e.currentTarget.valueAsNumber>30?30:e.currentTarget.valueAsNumber)}})]})]})]}),(0,a.jsxs)("fieldset",{className:"mode bike",children:[(0,a.jsx)("legend",{className:"mode-header",children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:b,onChange:function(){y(!b)}}),e.translation.connections.bike]})}),(0,a.jsxs)("div",{className:"option",children:[(0,a.jsx)("div",{className:"label",children:e.translation.search.maxDuration}),(0,a.jsxs)("div",{className:"numeric slider control",children:[(0,a.jsx)("input",{type:"range",min:"0",max:"30",step:"1",value:N,onChange:function(e){return w(e.currentTarget.valueAsNumber)}}),(0,a.jsx)("input",{type:"text",value:N,onChange:function(e){return w(e.currentTarget.valueAsNumber>30?30:e.currentTarget.valueAsNumber)}})]})]})]}),(0,a.jsxs)("fieldset",{className:"mode car",children:[(0,a.jsx)("legend",{className:"mode-header",children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:T,onChange:function(){A(!T)}}),e.translation.connections.car]})}),(0,a.jsxs)("div",{className:"option",children:[(0,a.jsx)("div",{className:"label",children:e.translation.search.maxDuration}),(0,a.jsxs)("div",{className:"numeric slider control",children:[(0,a.jsx)("input",{type:"range",min:"0",max:"30",step:"1",value:O,onChange:function(e){return I(e.currentTarget.valueAsNumber)}}),(0,a.jsx)("input",{type:"text",value:O,onChange:function(e){return I(e.currentTarget.valueAsNumber>30?30:e.currentTarget.valueAsNumber)}})]})]}),(0,a.jsx)("div",{className:"option",children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:H,onChange:function(){R(!H)}}),e.translation.search.useParking]})})]})]})]})]})},b=function(e){var t=e.filter((function(e){return e.admin_level<=8&&e.admin_level>=2}));return t[0].name+", "+t[t.length-1].name};var y=function(e){return(0,a.jsxs)("li",{className:e.listID==e.selectedSuggestion?"selected":"",title:e.station.name,onMouseDown:function(t){0==t.button&&(e.setName(e.station.name),e.setSuggestion(e.station),e.setShowSuggestions(!1),e.setSelectedSuggestion(0),f(e.localStorageStation,e.station))},onMouseOver:function(){e.setSelectedSuggestion(e.listID)},children:[(0,a.jsx)("i",{className:"icon",children:"train"}),(0,a.jsx)("span",{className:"station",children:e.station.name})]})},S=function(e){return(0,a.jsxs)("li",{className:e.listID==e.selectedSuggestion?"selected":"",title:e.address.name+", "+b(e.address.regions).split(",")[0],onMouseDown:function(){e.setName(e.address.name),e.setSuggestion(e.address),e.setShowSuggestions(!1),e.setSelectedSuggestion(0),f(e.localStorageStation,e.address)},onMouseOver:function(){e.setSelectedSuggestion(e.listID)},children:[(0,a.jsx)("i",{className:"icon",children:"place"}),(0,a.jsx)("span",{className:"address-name",children:e.address.name}),(0,a.jsx)("span",{className:"address-region",children:b(e.address.regions)})]})},N=function(e){var t,n,i,s,o=r.useRef(null);return t=o,n=e.inputFieldRef,i=e.setShowSuggestions,s=e.setSelected,r.useEffect((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&n.current&&!n.current.contains(e.target)&&(i(!1),s(""))};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t]),(0,a.jsxs)("div",{className:"proposals",ref:o,children:[e.suggestions.slice(0,6).map((function(t,n){return(0,a.jsx)(y,{station:t,listID:n,selectedSuggestion:e.highlighted,setName:e.setName,setSuggestion:e.setSuggestion,setShowSuggestions:e.setShowSuggestions,setSelectedSuggestion:e.setSelectedSuggestion,localStorageStation:e.localStorageStation},n)})),e.suggestions.slice(6).map((function(t,n){return(0,a.jsx)(S,{address:t,listID:n+6,selectedSuggestion:e.highlighted,setName:e.setName,setSuggestion:e.setSuggestion,setShowSuggestions:e.setShowSuggestions,setSelectedSuggestion:e.setSelectedSuggestion,localStorageStation:e.localStorageStation},n)}))]})};function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(c){r=!0,i=c}finally{try{a||null==o.return||o.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var _=function(e){return{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}},C=function(e){var t=r.useRef(null),n=(0,r.useState)(""),i=n[0],s=n[1],o=(0,r.useState)(""),c=o[0],l=o[1],u=(0,r.useState)(!1),d=u[0],m=u[1],p=(0,r.useState)([]),h=p[0],v=p[1],g=(0,r.useState)([]),x=g[0],j=g[1],b=(0,r.useState)([]),y=b[0],S=b[1],C=(0,r.useState)(!1),D=C[0],T=C[1],A=w(r.useState(0),2),E=A[0],O=A[1];return(0,r.useEffect)((function(){!function(e,t,n,a){if(""!==e){var r="https://europe.motis-project.de/?elm=StationSuggestions",i=[];fetch(r,_({destination:{type:"Module",target:"/guesser"},content_type:"StationGuesserRequest",content:{guess_count:6,input:e}})).then((function(e){return e.json()})).then((function(e){n(e.content.guesses),i=e.content.guesses})),r="https://europe.motis-project.de/?elm=AddressSuggestions",fetch(r,_({destination:{type:"Module",target:"/address"},content_type:"AddressRequest",content:{input:e}})).then((function(e){return e.json()})).then((function(e){t(e.content.guesses),a(k(i).concat(k(e.content.guesses)))}))}}(c,v,j,S)}),[d]),(0,r.useEffect)((function(){l(null==e.station?"":e.station.name),m(!d)}),[e.station]),(0,a.jsxs)("div",{children:[(0,a.jsxs)("form",{children:[(0,a.jsx)("div",{className:"label",children:e.label}),(0,a.jsxs)("div",{className:"gb-input-group ".concat(i),children:[(0,a.jsx)("div",{className:"gb-input-icon",children:(0,a.jsx)("i",{className:"icon",children:"place"})}),(0,a.jsx)("input",{className:"gb-input",tabIndex:1,value:c,ref:t,onChange:function(e){l(e.currentTarget.value),e.currentTarget.value.length>=3&&(m(!d),T(!0))},onKeyDown:function(t){switch(t.key){case"Enter":t.preventDefault(),l(y[E].name),e.setSearchDisplay(y[E]),T(!1),O(0),f(e.localStorageStation,y[E]);break;case"Escape":t.preventDefault(),T(!1);break;case"ArrowDown":O(E+1);break;case"ArrowUp":O(E-1)}},onFocus:function(e){T(!0),s("gb-input-group-selected")}})]})]}),(0,a.jsx)("div",{className:"paper",style:D&&h.length>0?{}:{display:"none"},children:(0,a.jsx)(N,{addresses:h,stations:x,suggestions:y,highlighted:E,showSuggestions:D,setName:l,setSuggestion:e.setSearchDisplay,setSelectedSuggestion:O,setShowSuggestions:T,setSelected:s,localStorageStation:e.localStorageStation,inputFieldRef:t})})]})};function D(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var T=function(e){var t=function(){var e=(0,r.useRef)([]);return{appendPendingPromise:function(t){return e.current=D(e.current).concat([t])},removePendingPromise:function(t){return e.current=e.current.filter((function(e){return e!==t}))},clearPendingPromises:function(){return e.current.map((function(e){return e.cancel()}))}}}();return function(){t.clearPendingPromises();var n,a=function(e){var t=!1;return{promise:new Promise((function(n,a){e.then((function(e){return t?a({isCanceled:t,value:e}):n(e)}),(function(e){return a({isCanceled:t,error:e})}))})),cancel:function(){return t=!0}}}((n=700,new Promise((function(e){return setTimeout(e,n)}))));return t.appendPendingPromise(a),a.promise.then((function(){t.removePendingPromise(a),e()})).catch((function(e){if(t.removePendingPromise(a),!e.isCanceled)throw e.error}))}};function A(e,t){r.useEffect((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t("")};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[e])}var E=null,O=function(e){var t=(0,r.useState)(0),n=t[0],i=t[1],s=(0,r.useState)(0),o=s[0],c=s[1],l=(0,r.useState)(0),u=l[0],d=l[1],m=(0,r.useState)(0),p=m[0],h=m[1],v=(0,r.useState)(!0),x=v[0],j=v[1];return(0,r.useEffect)((function(){window.portEvents.sub("mapShowContextMenu",(function(e){i(e.mouseX),c(e.mouseY),d(e.lat),h(e.lng),j(!1)})),window.portEvents.sub("mapCloseContextMenu",(function(e){j(!0)}))})),(0,a.jsxs)("div",{className:x?"railviz-contextmenu hidden":"railviz-contextmenu",style:{top:o+"px",left:n+"px"},children:[(0,a.jsx)("div",{className:"item",onClick:function(){j(!0),f("motis.routing.from_location",{name:u+";"+p,pos:{lat:u,lng:p},type_:"",regions:{}}),E=[!0,{name:u+";"+p,pos:{lat:u,lng:p},type_:"",regions:{}}],window.portEvents.pub("mapSetMarkers",{startPosition:{lat:u,lng:p},startName:u+";"+p,destinationPosition:g("motis.routing.to_location").pos,destinationName:g("motis.routing.to_location").name}),E=null},children:e.translation.mapContextMenu.routeFromHere}),(0,a.jsx)("div",{className:"item",onClick:function(){j(!0),f("motis.routing.to_location",{name:u+";"+p,pos:{lat:u,lng:p},type_:"",regions:{}}),E=[!1,{name:u+";"+p,pos:{lat:u,lng:p},type_:"",regions:{}}],window.portEvents.pub("mapSetMarkers",{startPosition:g("motis.routing.from_location").pos,startName:g("motis.routing.from_location").name,destinationPosition:{lat:u,lng:p},destinationName:u+";"+p}),E=null},children:e.translation.mapContextMenu.routeToHere})]})};function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(c){r=!0,i=c}finally{try{a||null==o.return||o.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function z(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var F=function(e){return void 0!==e.id},P=function(e){return F(e)?"PretripStart":"IntermodalPretripStart"},M=function(e){return F(e)?"InputStation":"InputPosition"},H=function(e){return F(e)?{name:e.name,id:e.id}:e.pos},R=function(e,t,n,a,r){return F(e)?{station:H(e),min_connection_count:t,interval:n,extend_interval_later:r,extend_interval_earlier:a}:{position:e.pos,min_connection_count:t,interval:n,extend_interval_later:r,extend_interval_earlier:a}},L=function(e,t,n,a,r,i,s,o,c,l){return{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({destination:{type:"Module",target:"/intermodal"},content_type:"IntermodalRoutingRequest",content:{start_type:P(t),start_modes:e,start:R(t,o,s,c,l),search_type:n,search_dir:a,destination_type:M(i),destination_modes:r,destination:H(i)}})}},W=function(e){var t=g(e),n=[];return t&&(t.walk.enabled&&n.push({mode_type:"FootPPR",mode:{search_options:{profile:t.walk.search_profile.profile,duration_limit:60*t.walk.search_profile.max_duration}}}),t.bike.enabled&&n.push({mode_type:"Bike",mode:{max_duration:60*t.bike.max_duration}}),t.car.enabled&&(t.car.use_parking?n.push({mode_type:"CarParking",mode:{max_car_duration:60*t.car.max_duration,ppr_search_options:{profile:"default",duration_limit:300}}}):n.push({mode_type:"Car",mode:{max_duration:60*t.car.max_duration}}))),n},B=function(e,t){var n=[];if(e)for(var a=0;a<e.length;a++){for(var r=[],i=0;i<e[a].stops.length;i++)r.push(e[a].stops[i].station);for(var s=[],o=0;o<e[a].trips.length;o++){for(var c=e[a].trips[o].id,l=[],u=e[a].trips[o].range.from;u<e[a].trips[o].range.to;u++)l.push({arrivalStation:e[a].stops[u+1].station,departureStation:e[a].stops[u].station,scheduledArrivalTime:e[a].stops[u+1].arrival.schedule_time,scheduledDepartureTime:e[a].stops[u].departure.schedule_time});s.push({sections:l,trip:c})}for(var d=[],m=0;m<e[a].transports.length;m++)if("Walk"===e[a].transports[m].move_type){var p=e[a].transports[m].move;d.push({arrivalStation:e[a].stops[p.range.to].station,departureStation:e[a].stops[p.range.from].station,accessibility:p.accessibility,mumoType:p.mumo_type})}n.push({id:t+a,stations:r,trains:s,walks:d})}return n},V=function(e){return{stops:[],transports:[],trips:[],problems:[],dummyDay:e,new:""}},Y=function(e,t,n){if(!e.ok)throw t(!1),n([]),Error(e.statusText);return e},U=function(e){var t=(0,r.useState)(W("motis.routing.from_modes")),n=t[0],i=t[1],s=(0,r.useState)(W("motis.routing.to_modes")),o=s[0],l=s[1],u=(0,r.useState)(c()().format("HH:mm")),m=u[0],p=u[1],h=(0,r.useState)(""),f=h[0],x=h[1],b=r.useRef(null),y=(0,r.useState)("Accessibility"),S=y[0],N=(y[1],(0,r.useState)("Forward")),w=N[0],k=N[1],_=(0,r.useState)(null),D=_[0],O=_[1],F=(0,r.useState)(null),P=F[0],M=F[1],H=(0,r.useState)([]),R=H[0],U=H[1],K=T((function(){fetch("https://europe.motis-project.de/?elm=IntermodalConnectionRequest",L(n,e.start,S,w,o,e.destination,{begin:e.searchDate.unix()-3600,end:e.searchDate.unix()+3600},5,!0,!0)).then((function(t){return Y(t,e.setLoading,e.setConnections)})).then((function(e){return e.json()})).then((function(t){if(0===t.content.connections.length)return e.setLoading(!1),void e.setConnections(null);t.content.connections.map((function(e){return e.new=""})),function(e,t,n,a,r){var i=[0],s=z(t),o=c().unix(t[0].stops[0].departure.schedule_time),l=[o.format(a)];n(t),s[0].id=0;for(var u=1;u<t.length;u++)s[u].id=u,c().unix(t[u].stops[0].departure.schedule_time).day()!=o.day()&&(i.push(u),l.push(c().unix(t[u].stops[0].departure.schedule_time).format(a)),o.add(1,"day"));i.map((function(e,t){s.splice(e+t,0,V(l[t]))})),e([]),e(s),r(!1)}(e.setConnections,t.content.connections,U,e.translation.dateFormat,e.setLoading),O({begin:t.content.interval_begin-7200,end:t.content.interval_begin-1}),M({begin:t.content.interval_end+1,end:t.content.interval_end+7200}),window.portEvents.pub("mapSetMarkers",{startPosition:g("motis.routing.from_location").pos,startName:g("motis.routing.from_location").name,destinationPosition:g("motis.routing.to_location").pos,destinationName:g("motis.routing.to_location").name}),window.portEvents.pub("mapSetConnections",{mapId:"map",connections:B(t.content.connections,0),lowestId:0})})).catch((function(e){}))}));return(0,r.useEffect)((function(){if(e.searchDate){var t=e.searchDate.unix();M({begin:t,end:t+7200}),O({begin:t,end:t+7200})}null!==e.start&&null!==e.destination&&e.searchDate&&n&&o&&(e.setLoading(!0),K())}),[e.start,n,e.destination,o,w,e.searchDate]),(0,r.useEffect)((function(){if(null!==e.start&&null!==e.destination&&null!==P&&null!==D&&(e.extendBackwardFlag||e.extendForwardFlag)){var t=e.extendBackwardFlag?D:P;fetch("https://europe.motis-project.de/?elm=IntermodalConnectionRequest",L(n,e.start,S,w,o,e.destination,t,3,e.extendBackwardFlag,e.extendForwardFlag)).then((function(t){return Y(t,e.setLoading,e.setConnections)})).then((function(e){return e.json()})).then((function(t){if(0===t.content.connections.length)return e.setExtendBackwardFlag(!1),void e.setExtendForwardFlag(!1);e.extendBackwardFlag?(d()(t.content.connections[0].stops,R[0].stops)||(t.content.connections.map((function(e){return e.new=" new"})),R.map((function(e){return e.new=""})),function(e,t,n,a,r,i,s){var o=[0],l=z(n),u=c().unix(t[0].stops[0].departure.schedule_time),d=[c().unix(n[0].stops[0].departure.schedule_time).format(i)],m=t.at(0).id-1;r(z(n).concat(z(t)));for(var p=0;p<n.length;p++)l[n.length-1-p].id=m-p,c().unix(n[n.length-1-p].stops[0].departure.schedule_time).day()!=u.day()&&(o.push(n.length-1-p),d.push(u.format(i)),u.subtract(1,"day"));o.map((function(e,t){l.splice(e+t,0,V(d[t]))}));var h=a;h.splice(0,1),console.log(z(l).concat(z(h))),e(z(l).concat(z(h))),s(!1)}(e.setConnections,R,t.content.connections,e.connections,U,e.translation.dateFormat,e.setLoading),O({begin:t.content.interval_begin-7200,end:t.content.interval_begin-1}),window.portEvents.pub("mapSetConnections",{mapId:"map",connections:B(z(t.content.connections).concat(z(R)),R[0].id-t.content.connections.length),lowestId:R[0].id-t.content.connections.length})),e.setExtendBackwardFlag(!1)):(d()(t.content.connections.at(-1).stops,R.at(-1).stops)||(t.content.connections.map((function(e){return e.new=" new"})),R.map((function(e){return e.new=""})),function(e,t,n,a,r,i,s){var o=[],l=z(n),u=c().unix(t.at(-1).stops[0].departure.schedule_time),d=[],m=t.at(-1).id+1;r(z(t).concat(z(n)));for(var p=0;p<n.length;p++)l[p].id=m+p,c().unix(n[p].stops[0].departure.schedule_time).day()!=u.day()&&(o.push(p),d.push(c().unix(n[p].stops[0].departure.schedule_time).format(i)),u.add(1,"day"));o.map((function(e,t){l.splice(e+t,0,V(d[t]))})),e(z(a).concat(z(l))),s(!1)}(e.setConnections,R,t.content.connections,e.connections,U,e.translation.dateFormat,e.setLoading),M({begin:t.content.interval_end+1,end:t.content.interval_end+7200}),window.portEvents.pub("mapSetConnections",{mapId:"map",connections:B(z(R).concat(z(t.content.connections)),0),lowestId:0})),e.setExtendForwardFlag(!1)),window.portEvents.pub("mapSetMarkers",{startPosition:g("motis.routing.from_location").pos,startName:g("motis.routing.from_location").name,destinationPosition:g("motis.routing.to_location").pos,destinationName:g("motis.routing.to_location").name})})).catch((function(e){}))}}),[e.extendForwardFlag,e.extendBackwardFlag]),(0,r.useEffect)((function(){window.portEvents.sub("mapSetMarkers",(function(){E&&(E[0]?e.setStart(E[1]):e.setDestination(E[1]))}))})),A(b,x),(0,a.jsxs)("div",{id:"search".concat(e.tripViewHidden?"":"-hidden"),children:[(0,a.jsxs)("div",{className:"pure-g gutters",children:[(0,a.jsxs)("div",{className:"pure-u-1 pure-u-sm-12-24 from-location",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{translation:e.translation,label:e.translation.search.start,station:e.start,setSearchDisplay:e.setStart,localStorageStation:"motis.routing.from_location"}),(0,a.jsx)(j,{translation:e.translation,title:e.translation.search.startTransports,setModes:i,localStorageModes:"motis.routing.from_modes",modes:n})]}),(0,a.jsx)("div",{className:"swap-locations-btn",children:(0,a.jsxs)("label",{className:"gb-button gb-button-small gb-button-circle gb-button-outline gb-button-PRIMARY_COLOR disable-select",children:[(0,a.jsx)("input",{type:"checkbox",onClick:function(){var t=e.destination;e.setDestination(e.start),e.setStart(t)}}),(0,a.jsx)("i",{className:"icon",children:"swap_vert"})]})})]}),(0,a.jsx)("div",{className:"pure-u-1 pure-u-sm-12-24",children:(0,a.jsx)(v,{translation:e.translation,currentDate:e.searchDate,setCurrentDate:e.setSearchDate,scheduleInfo:e.scheduleInfo})})]}),(0,a.jsxs)("div",{className:"pure-g gutters",children:[(0,a.jsx)("div",{className:"pure-u-1 pure-u-sm-12-24 to-location",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{translation:e.translation,label:e.translation.search.destination,station:e.destination,setSearchDisplay:e.setDestination,localStorageStation:"motis.routing.to_location"}),(0,a.jsx)(j,{translation:e.translation,title:e.translation.search.destinationTransports,setModes:l,localStorageModes:"motis.routing.to_modes",modes:o})]})}),(0,a.jsx)("div",{className:"pure-u-1 pure-u-sm-9-24",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"label",children:e.translation.search.time}),(0,a.jsxs)("div",{className:"gb-input-group ".concat(f),children:[(0,a.jsx)("div",{className:"gb-input-icon",children:(0,a.jsx)("i",{className:"icon",children:"schedule"})}),(0,a.jsx)("input",{className:"gb-input",ref:b,tabIndex:4,value:m,onChange:function(t){if(p(t.currentTarget.value),2==t.currentTarget.value.split(":").length){var n=I(t.currentTarget.value.split(":"),2),a=n[0],r=n[1];if(!isNaN(+a)&&!isNaN(+r)){var i=c()(e.searchDate);i.hour(a>23?23:a),i.minute(r>59?59:r),e.setSearchDate(i)}}},onKeyDown:function(t){"Enter"==t.key&&p(e.searchDate.format("HH:mm"))},onFocus:function(){return x("gb-input-group-selected")}}),(0,a.jsx)("div",{className:"gb-input-widget",children:(0,a.jsxs)("div",{className:"hour-buttons",children:[(0,a.jsx)("div",{children:(0,a.jsx)("a",{className:"gb-button gb-button-small gb-button-circle gb-button-outline gb-button-PRIMARY_COLOR disable-select",onClick:function(){var t=e.searchDate.clone().subtract(1,"h");e.setSearchDate(t),p(t.format("HH:mm"))},children:(0,a.jsx)("i",{className:"icon",children:"chevron_left"})})}),(0,a.jsx)("div",{children:(0,a.jsx)("a",{className:"gb-button gb-button-small gb-button-circle gb-button-outline gb-button-PRIMARY_COLOR disable-select",onClick:function(){var t=e.searchDate.clone().add(1,"h");e.setSearchDate(t),p(t.format("HH:mm"))},children:(0,a.jsx)("i",{className:"icon",children:"chevron_right"})})})]})})]})]})}),(0,a.jsxs)("div",{className:"pure-u-1 pure-u-sm-3-24 time-option",children:[(0,a.jsxs)("form",{children:[(0,a.jsx)("input",{type:"radio",id:"search-forward",name:"time-option",value:"Forward",checked:"Forward"===w,onChange:function(e){return k(e.currentTarget.value)}}),(0,a.jsx)("label",{htmlFor:"search-forward",children:e.translation.search.departure})]}),(0,a.jsxs)("form",{children:[(0,a.jsx)("input",{type:"radio",id:"search-backward",name:"time-option",value:"Backward",checked:"Backward"===w,onChange:function(e){return k(e.currentTarget.value)}}),(0,a.jsx)("label",{htmlFor:"search-backward",children:e.translation.search.arrival})]})]})]})]})},K=n(5666),Z=n.n(K);function q(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var J=function(e){switch(G(e)){case 0:return"#plane";case 1:case 2:return"#train";case 3:return"#bus";case 4:case 5:case 6:return"#train";case 7:return"#sbahn";case 8:return"#ubahn";case 9:return"#tram";case 11:return"#ship";case"walk":return"#walk";case"bike":return"#bike";case"car":return"#car";default:return"#bus"}},G=function(e){switch(e.move_type){case"Transport":return e.move.clasz;case"Walk":return""===e.move.mumo_type||"foot"===e.move.mumo_type?"walk":e.move.mumo_type;default:return""}},X=function(e,t){for(var n=[],a=q(e),r=t,i=0,s=0,o=!1;!1===o&&(o=!0,n=[],s=0,a.map((function(e){if(e.final)n.push({position:s,partWidth:e.partWidth,lineEnd:s+e.partWidth+3,percentage:e.percentage,final:!0}),s+=e.partWidth,i+=e.partWidth;else{var t=e.percentage*r,a=!1;t<26&&(t=26,r-=26,a=!0,o=!1),n.push({position:s,partWidth:t,lineEnd:s+t+3,percentage:e.percentage,final:a}),s+=t,i+=t}})),!(i<=323));)a=n;if(i<323){var c=323-i,l=[],u=0;n.map((function(t,n){var a=t.partWidth+Math.ceil(t.percentage*c),r=u+a+3;n==e.length-1&&323!==r&&(r=323),l.push({position:u,partWidth:a,lineEnd:r,percentage:t.percentage,final:!0}),u+=a})),n=l}return n},Q=function(e,t,n,a){return void 0===t&&(n.reduce((function(e,t){return d()(a,t)||e}),!1)||void 0!==e&&d()(e,a))||n.includes(t)||void 0!==e&&e===t?"visible":""},$=function(e){var t=(0,r.useState)(void 0),n=t[0],i=t[1],s=(0,r.useState)([]),o=s[0],l=s[1],u=(0,r.useState)([]),d=u[0],m=u[1],p=(0,r.useState)(g("motis.routing.from_location")),h=p[0],v=(p[1],(0,r.useState)(g("motis.routing.to_location"))),f=v[0],x=(v[1],c().unix(e.connection.stops[e.connection.stops.length-1].arrival.time).diff(c().unix(e.connection.stops[0].departure.time))),j=12,b=335;return(0,r.useEffect)((function(){var t=[],n=function(e,t,n,a,r){var i=[],s=0,o=0,l=0,u=a,d=0,m=0,p=!1;if(e.map((function(h,v){if("Transport"===h.move_type||(0===v||v===e.length-1)&&"Walk"===h.move_type){var f="Transport"===h.move_type?7*h.move.name.length:0,g=c().unix(n[h.move.range.to].arrival.time).diff(c().unix(n[h.move.range.from].departure.time)),x=(s=g/t)>=1?a:s*a+2;o=Math.max(Math.max(f,x),26),l+=o,26==o?(p=!0,u-=26):o==f&&(p=!0,u-=f),m=d+o+r/2,i.push({position:d,partWidth:o,lineEnd:m,percentage:s,final:p}),d+=o,p=!1}})),a<l)return X(i,u);if(a>l){var h=a-l,v=[],f=0;return i.map((function(e,t){var n=e.partWidth+Math.ceil(e.percentage*h),a=f+n+r/2;t==i.length-1&&a<323&&(a=323),v.push({position:f,partWidth:n,lineEnd:a,percentage:e.percentage,final:!0}),f+=n})),v}return a==l?i:[]}(e.connection.transports,x,e.connection.stops,323,6),a=0;e.connection.transports.map((function(r,i){var s=J(r),o=G(r),c=function(e){if("Walk"===e.move_type){var t=e.move;return 0===t.accessibility?"acc-0":t.accessibility<30?"acc-1":"acc-2"}return"acc-0"}(r),l="",u="";if("Transport"===r.move_type)l=r.move.name;else switch(r.move.mumo_type){case"car":u=e.translation.connections.car.toString();break;case"bike":u=e.translation.connections.bike.toString();break;default:u=e.translation.connections.walk.toString()}"Transport"===r.move_type?(t.push({transport:r,graphData:n[a],classId:s,trainName:l,clasz:o,acc:c,trainNumber:r.move.train_nr}),a+=1):0!==i&&i!==e.connection.transports.length-1||"Walk"!==r.move_type||(t.push({transport:r,graphData:n[a],classId:s,transportName:u,clasz:o,acc:c}),a+=1)})),l(t)}),[]),(0,r.useEffect)((function(){var t=[];void 0!==e.mapData&&null!==e.mapData.hoveredTripSegments&&e.mapData.hoveredTripSegments.map((function(e){t.push(e.trip[0].train_nr)})),void 0!==e.mapData&&e.connectionHighlighted&&null!==e.mapData.hoveredWalkSegment&&t.push({dep:e.mapData.hoveredWalkSegment.walk.departureStation.pos,arr:e.mapData.hoveredWalkSegment.walk.arrivalStation.pos}),m(t)}),[e.mapData]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{width:b,height:40,viewBox:"0 0 ".concat(b," ").concat(40),children:[(0,a.jsx)("g",{children:o.map((function(t){return(0,a.jsxs)("g",{className:"part train-class-".concat(t.clasz," ").concat(t.acc," ").concat(e.connectionHighlighted?d.includes(t.trainNumber)||d.includes({dep:e.connection.stops[t.transport.move.range.from].station.pos,arr:e.connection.stops[t.transport.move.range.to].station.pos})?"highlighted":"faded":""),children:[(0,a.jsx)("line",{x1:t.graphData.position,y1:j,x2:t.graphData.lineEnd,y2:j,className:"train-line"}),(0,a.jsx)("circle",{cx:t.graphData.position+j,cy:j,r:j,className:"train-circle"}),(0,a.jsx)("use",{xlinkHref:t.classId,className:"train-icon",x:t.graphData.position+4,y:4,width:16,height:16}),(0,a.jsx)("text",{x:t.graphData.position,y:40,textAnchor:"start",className:"train-name",children:t.trainName}),(0,a.jsx)("rect",{x:t.graphData.position,y:"0",width:t.graphData.position+t.graphData.partWidth,height:24,className:"tooltipTrigger",onMouseOver:function(){void 0===t.trainNumber?i({dep:e.connection.stops[t.transport.move.range.from].station.pos,arr:e.connection.stops[t.transport.move.range.to].station.pos}):i(t.trainNumber)},onMouseOut:function(){i(void 0)}})]},"".concat(e.parentIndex,"_").concat(e.connection.stops[t.transport.move.range.from].departure.time))}))}),(0,a.jsx)("g",{className:"destination",children:(0,a.jsx)("circle",{cx:329,cy:j,r:6})})]}),o.map((function(t,r){return(0,a.jsxs)("div",{className:"tooltip ".concat(Q(n,t.trainNumber,d,{dep:e.connection.stops[t.transport.move.range.from].station.pos,arr:e.connection.stops[t.transport.move.range.to].station.pos})),style:{position:"absolute",left:"".concat(Math.min(t.graphData.position,95),"px"),top:"".concat(23,"px")},children:[(0,a.jsxs)("div",{className:"stations",children:[(0,a.jsxs)("div",{className:"departure",children:[(0,a.jsx)("div",{className:"station",children:"START"===e.connection.stops[t.transport.move.range.from].station.name?h.name:e.connection.stops[t.transport.move.range.from].station.name}),(0,a.jsx)("div",{className:"time",children:c().unix(e.connection.stops[t.transport.move.range.from].departure.time).format("HH:mm")})]}),(0,a.jsxs)("div",{className:"arrival",children:[(0,a.jsx)("div",{className:"station",children:"END"===e.connection.stops[t.transport.move.range.to].station.name?f.name:e.connection.stops[t.transport.move.range.to].station.name}),(0,a.jsx)("div",{className:"time",children:c().unix(e.connection.stops[t.transport.move.range.to].arrival.time).format("HH:mm")})]})]}),(0,a.jsx)("div",{className:"transport-name",children:"Transport"===t.transport.move_type?t.trainName:t.transportName})]},"tooltip".concat(e.parentIndex).concat(r))}))]})},ee=function(e){var t=(0,r.useState)(e.event.schedule_time-e.event.time),n=t[0],i=(t[1],(0,r.useState)(!0)),s=i[0],o=i[1];return(0,r.useEffect)((function(){o(n<0)}),[n]),(0,a.jsx)("div",{className:0===n?"delay":s?"delay neg-delay":"delay pos-delay",children:(0,a.jsx)("span",{children:0!==n?(s?"+":"-")+c().unix(n).format("m"):""})})};function te(e,t,n,a,r,i,s){try{var o=e[i](s),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(a,r)}function ne(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ae,re=function(e){return"Transport"===e.move_type},ie=function(e,t){var n=c().unix(t).diff(c().unix(e),"minutes"),a=Math.floor(n/60),r=n%60;return a>0?a+"h "+r+"min":r+"min"},se=(ae=Z().mark((function e(t,n,a){var r,i;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],i=t.transports.map((function(e){if("Walk"===e.move_type&&"walk"===G(e))return fetch("https://europe.motis-project.de/?elm=FootRoutingRequest",(a=t.stops[e.move.range.from].station.pos.lat,i=t.stops[e.move.range.from].station.pos.lng,s=t.stops[e.move.range.to].station.pos.lat,o=t.stops[e.move.range.to].station.pos.lng,c=60*n.walk.search_profile.max_duration,l=n.walk.search_profile.profile,u=!1,d=!0,m=!0,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({destination:{type:"Module",target:"/ppr/route"},content_type:"FootRoutingRequest",content:{start:{lat:a,lng:i},destinations:[{lat:s,lng:o}],search_options:{duration_limit:c,profile:l},include_edges:u,include_path:d,include_steps:m}})})).then((function(e){return e.json()})).then((function(e){r.push(e.content.routes[0].routes[0].duration)}));var a,i,s,o,c,l,u,d,m})),Promise.all(i).then((function(e){a(r)}));case 3:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var r=ae.apply(e,t);function i(e){te(r,n,a,i,s,"next",e)}function s(e){te(r,n,a,i,s,"throw",e)}i(void 0)}))}),oe=function(e){return e.move.range.to-e.move.range.from-1},ce=function(e,t){switch(e){case"walk":return t.connections.walk;case"bike":return t.connections.bike;case"car":return t.connections.car;default:return}},le=function(e){var t=(0,r.useState)(g("motis.routing.from_location")),n=t[0],i=(t[1],(0,r.useState)(g("motis.routing.to_location"))),s=i[0],o=(i[1],(0,r.useState)(g("motis.routing.from_modes"))),l=o[0],u=(o[1],(0,r.useState)([])),d=u[0],m=u[1],p=(0,r.useState)([]),h=p[0],v=p[1];return(0,r.useEffect)((function(){var t=[],n=!1,a=0,r=0;e.connection.transports.map((function(i,s){re(i)&&n?(t.push({hasWalk:!0,walkTime:d[a],transport:i,stops:e.connection.stops,stopsToRender:e.connection.stops.slice(i.move.range.from+1,i.move.range.to),trip:e.connection.trips[r],walkInfo:!1,index:s}),n=!1,a+=1,r+=1):re(i)?(t.push({hasWalk:!1,walkTime:0,transport:i,stops:e.connection.stops,stopsToRender:e.connection.stops.slice(i.move.range.from+1,i.move.range.to),trip:e.connection.trips[r],walkInfo:!1,index:s}),r+=1):re(i)||0!=s&&s!=e.connection.transports.length-1?n=!0:t.push({hasWalk:!1,walkTime:0,transport:i,stops:e.connection.stops,stopsToRender:e.connection.stops.slice(i.move.range.from+1,i.move.range.to),walkInfo:!0,expandString:ce(G(i).toString(),e.translation).toString(),index:s})})),v(t)}),[d]),(0,r.useEffect)((function(){e.connection.transports.length!==e.connection.trips.length||"Walk"===e.connection.transports[0].move_type&&"foot"===e.connection.transports[0].move.mumo_type?se(e.connection,l,m):m([-1])}),[e.connection]),(0,a.jsx)(a.Fragment,{children:h.map((function(t,r){return(0,a.jsxs)("div",{className:"train-detail train-class-".concat(G(t.transport)," ").concat(t.walkInfo?"initial-walk":""),children:[(0,a.jsx)("div",{className:"top-border"}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"train-box train-class-".concat(G(t.transport)," ").concat(t.walkInfo?"":"with-tooltip"),"data-tooltip":"".concat(t.walkInfo?"":"".concat(e.translation.connections.provider,": ").concat(t.transport.move.provider,"\n").concat(e.translation.connections.trainNr,": ").concat(void 0!==t.trip?t.trip.id.train_nr:"")),onClick:function(){e.setTrainSelected(t.trip.id),e.setSubOverlayContent(ne(e.subOverlayContent).concat([{id:"tripView",train:t.trip.id}]))},children:[(0,a.jsx)("svg",{className:"train-icon",children:(0,a.jsx)("use",{xlinkHref:J(t.transport)})}),t.walkInfo?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)("span",{className:"train-name",children:t.transport.move.name})]})}),0===r||r>0&&h[r-1].walkInfo?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)("div",{className:"train-top-line",children:(0,a.jsx)("span",{children:t.hasWalk?"".concat(e.translation.connections.walkDuration("".concat(t.walkTime,"min"))):e.translation.connections.interchangeDuration("".concat(ie(t.stops[t.transport.move.range.from].arrival.time,t.stops[t.transport.move.range.from].departure.time)))})}),(0,a.jsx)("div",{className:"first-stop",children:(0,a.jsxs)("div",{className:"stop future",children:[(0,a.jsx)("div",{className:"timeline train-color-border"}),(0,a.jsx)("div",{className:"time",children:(0,a.jsx)("span",{className:"future",children:c().unix(t.stops[t.transport.move.range.from].departure.time).format("HH:mm")})}),(0,a.jsx)(ee,{event:t.stops[0].departure}),(0,a.jsx)("div",{className:"station",onClick:function(){e.setSubOverlayContent(ne(e.subOverlayContent).concat([{id:"stationEvent",station:"START"===t.stops[t.transport.move.range.from].station.name?n:t.stops[t.transport.move.range.from].station,stationTime:c().unix(t.stops[t.transport.move.range.from].departure.time)}]))},children:(0,a.jsx)("span",{children:"START"===t.stops[t.transport.move.range.from].station.name?n.name:t.stops[t.transport.move.range.from].station.name})})]})}),t.walkInfo?(0,a.jsx)(a.Fragment,{}):(0,a.jsxs)("div",{className:"direction future",children:[(0,a.jsx)("div",{className:"timeline train-color-border"}),(0,a.jsx)("i",{className:"icon",children:"arrow_forward"}),t.transport.move.direction]}),(0,a.jsx)(ue,{transport:t,connection:e.connection,translation:e.translation,subOverlayContent:e.subOverlayContent,setSubOverlayContent:e.setSubOverlayContent}),(0,a.jsx)("div",{className:"last-stop",children:(0,a.jsxs)("div",{className:"stop future",children:[(0,a.jsx)("div",{className:"timeline train-color-border"}),(0,a.jsx)("div",{className:"time",children:(0,a.jsx)("span",{className:"future",children:c().unix(t.stops[t.transport.move.range.to].arrival.time).format("HH:mm")})}),(0,a.jsx)(ee,{event:t.stops[t.stops.length-1].departure}),(0,a.jsx)("div",{className:"station",onClick:function(){e.setSubOverlayContent(ne(e.subOverlayContent).concat([{id:"stationEvent",station:"END"===t.stops[t.transport.move.range.to].station.name?s:t.stops[t.transport.move.range.to].station,stationTime:c().unix(t.stops[t.transport.move.range.to].arrival.time)}]))},children:(0,a.jsx)("span",{children:"END"===t.stops[t.transport.move.range.to].station.name?s.name:t.stops[t.transport.move.range.to].station.name})})]})})]},r)}))})},ue=function(e){var t=(0,r.useState)(0===e.subOverlayContent.length),n=t[0],i=t[1];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"intermediate-stops-toggle ".concat(oe(e.transport.transport)>0?"clickable":""," future"),onClick:function(){return i(!n)},children:[(0,a.jsxs)("div",{className:"timeline-container",children:[(0,a.jsx)("div",{className:"timeline train-color-border bg"}),(0,a.jsx)("div",{className:"timeline train-color-border progress",style:{height:"0%"}})]}),e.transport.walkInfo||0===oe(e.transport.transport)?(0,a.jsx)("div",{className:"expand-icon"}):n?(0,a.jsxs)("div",{className:"expand-icon",children:[(0,a.jsx)("i",{className:"icon",children:"expand_less"}),(0,a.jsx)("i",{className:"icon",children:"expand_more"})]}):(0,a.jsxs)("div",{className:"expand-icon",children:[(0,a.jsx)("i",{className:"icon",children:"expand_more"}),(0,a.jsx)("i",{className:"icon",children:"expand_less"})]}),(0,a.jsx)("span",{children:"".concat(e.transport.walkInfo?e.transport.expandString:e.translation.connections.tripIntermediateStops(oe(e.transport.transport))," (").concat(ie(e.connection.stops[e.transport.transport.move.range.from].departure.time,e.connection.stops[e.transport.transport.move.range.to].arrival.time),")")})]}),(0,a.jsx)("div",{className:n?"intermediate-stops collapsed":"intermediate-stops expanded",children:e.transport.stopsToRender.map((function(t,n){return(0,a.jsxs)("div",{className:"stop future",onClick:function(){e.setSubOverlayContent(ne(e.subOverlayContent).concat([{id:"stationEvent",station:t.station,stationTime:c().unix(t.departure.time)}]))},children:[(0,a.jsx)("div",{className:"timeline train-color-border bg"}),(0,a.jsx)("div",{className:"timeline train-color-border progress",style:{height:"0%"}}),0!==e.subOverlayContent.length?(0,a.jsxs)("div",{className:"time",children:[(0,a.jsx)("div",{className:"arrival",children:(0,a.jsx)("span",{className:"future",children:c().unix(t.arrival.time).format("HH:mm")})}),(0,a.jsx)("div",{className:"departure",children:(0,a.jsx)("span",{className:"future",children:c().unix(t.departure.time).format("HH:mm")})})]}):(0,a.jsx)("div",{className:"time",children:(0,a.jsx)("span",{className:"future",children:c().unix(t.departure.time).format("HH:mm")})}),(0,a.jsx)(ee,{event:e.transport.stops[n].departure}),(0,a.jsx)("div",{className:"station",children:(0,a.jsx)("span",{children:t.station.name})})]},n)}))})]})};function de(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var me=function(e,t){for(var n=0,a=0;a<e.length;a++)"Transport"===e[a].move_type&&a>0&&n++;return t.connections.interchanges(n)},pe=function(e){return void 0!==e.line_id},he=function(e){for(var t=[],n=0;n<e.stops.length;n++){var a=[];a.push(e.stops[n].station.pos.lat),a.push(e.stops[n].station.pos.lng),t.push(a)}return{mapId:"map",coords:t}},ve=function(e){var t=(0,r.useState)(pe(e.trainSelected)?void 0:e.trainSelected),n=t[0],i=t[1],s=pe(e.trainSelected)?e.trainSelected.time:e.trainSelected.stops[0].departure.time,o=pe(e.trainSelected)?e.trainSelected.target_time:e.trainSelected.stops.at(-1).arrival.time,l=(0,r.useState)(g("motis.routing.from_location")),u=l[0],d=(l[1],(0,r.useState)(g("motis.routing.to_location"))),m=d[0];d[1];return(0,r.useEffect)((function(){if(e.trainSelected&&pe(e.trainSelected)){fetch("https://europe.motis-project.de/?elm=tripRequest",function(e,t,n,a,r,i){return{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({destination:{type:"Module",target:"/trip_to_connection"},content_type:"TripId",content:{line_id:e,station_id:t,target_station_id:n,target_time:a,time:r,train_nr:i}})}}(e.trainSelected.line_id,e.trainSelected.station_id,e.trainSelected.target_station_id,e.trainSelected.target_time,e.trainSelected.time,e.trainSelected.train_nr)).then((function(e){return e.json()})).then((function(e){i(e.content),window.portEvents.pub("mapSetDetailFilter",Ee(e.content)),window.portEvents.pub("mapFitBounds",he(e.content))}))}}),[e.trainSelected]),void 0===n?(0,a.jsx)(a.Fragment,{}):(0,a.jsxs)("div",{className:"connection-details ".concat(pe(e.trainSelected)?"trip-view":""),children:[(0,a.jsx)("div",{className:"connection-info",children:(0,a.jsxs)("div",{className:"header",children:[(0,a.jsx)("div",{className:"back",onClick:function(){if(pe(e.trainSelected)){var t=de(e.subOverlayContent);t.pop(),e.setSubOverlayContent(t),window.portEvents.pub("mapSetDetailFilter",e.mapFilter),window.portEvents.pub("mapFitBounds",he(e.overlayTripView))}else e.setTripViewHidden(!0)},children:(0,a.jsx)("i",{className:"icon",children:"arrow_back"})}),(0,a.jsxs)("div",{className:"details",children:[(0,a.jsx)("div",{className:"date",children:c().unix(s).format(e.translation.dateFormat)}),(0,a.jsxs)("div",{className:"connection-times",children:[(0,a.jsxs)("div",{className:"times",children:[(0,a.jsx)("div",{className:"connection-departure",children:c().unix(s).format("HH:mm")}),(0,a.jsx)("div",{className:"connection-arrival",children:c().unix(o).format("HH:mm")})]}),(0,a.jsxs)("div",{className:"locations",children:[(0,a.jsx)("div",{children:"START"===n.stops[0].station.name?u.name:n.stops[0].station.name}),(0,a.jsx)("div",{children:"END"===n.stops[n.stops.length-1].station.name?m.name:n.stops[n.stops.length-1].station.name})]})]}),(0,a.jsxs)("div",{className:"summary",children:[(0,a.jsxs)("span",{className:"duration",children:[(0,a.jsx)("i",{className:"icon",children:"schedule"}),ie(s,o)]}),(0,a.jsxs)("span",{className:"interchanges",children:[(0,a.jsx)("i",{className:"icon",children:"transfer_within_a_station"}),me(n.transports,e.translation)]})]})]}),pe(e.trainSelected)?(0,a.jsx)("div",{className:"actions"}):(0,a.jsxs)("div",{className:"actions",children:[(0,a.jsx)("i",{className:"icon",children:"save"}),(0,a.jsx)("i",{className:"icon",children:"share"})]})]})}),(0,a.jsx)("div",{className:"connection-journey",id:"".concat(pe(e.trainSelected)?"sub-":"","connection-journey"),children:(0,a.jsx)(le,{connection:n,setTrainSelected:e.setTrainSelected,translation:e.translation,subOverlayContent:e.subOverlayContent,setSubOverlayContent:e.setSubOverlayContent})})]})},fe=function(){return(0,a.jsxs)("div",{className:"spinner",children:[(0,a.jsx)("div",{className:"bounce1"}),(0,a.jsx)("div",{className:"bounce2"}),(0,a.jsx)("div",{className:"bounce3"})]})};function ge(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var xe=function(e,t,n,a,r){return{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({destination:{type:"Module",target:"/railviz/get_station"},content_type:"RailVizStationRequest",content:{by_schedule_time:e,direction:t,event_count:n,station_id:a,time:r}})}},je=function(e,t,n,r,i,s){var o=function(e){l[e].dummyEvent?u.push((0,a.jsx)("div",{className:"date-header divider",children:(0,a.jsx)("span",{children:l[e].dummyEvent})},e)):u.push((0,a.jsxs)("div",{className:"station-event",children:[(0,a.jsx)("div",{className:"event-time",children:c().unix(l[e].event.time).format("HH:mm")}),(0,a.jsx)("div",{className:"event-train",children:(0,a.jsx)("span",{children:(0,a.jsxs)("div",{className:"train-box train-class-"+l[e].trips[0].transport.clasz+" with-tooltip","data-tooltip":t.connections.provider+": "+l[e].trips[0].transport.provider+"\n"+t.connections.trainNr+": "+l[e].trips[0].transport.train_nr,onClick:function(){s(l[e].trips[0].id),i(ge(r).concat([{id:"tripView",train:l[e].trips[0].id}]))},children:[(0,a.jsx)("svg",{className:"train-icon",children:(0,a.jsx)("use",{xlinkHref:J({move:l[e].trips[0].transport,move_type:"Transport"})})}),(0,a.jsx)("span",{className:"train-name",children:l[e].trips[0].transport.name})]})})}),(0,a.jsxs)("div",{className:"event-direction",title:l[e].trips[0].transport.direction,children:[(0,a.jsx)("i",{className:"icon",children:"arrow_forward"}),l[e].trips[0].transport.direction]}),(0,a.jsx)("div",{className:"event-track"})]},e))};if(0===e.length)return(0,a.jsxs)("div",{className:"no-results",children:[(0,a.jsx)("div",{className:"divider"}),(0,a.jsx)("div",{className:"msg",children:"DEP"===n?t.station.noDepartures:t.station.noArrivals})]});var l=e.filter((function(e){return e.type!==("ARR"===n?"DEP":"ARR")}));l[l.length-1].dummyEvent&&l.pop(),l[1].dummyEvent&&l.shift();for(var u=[],d=0;d<l.length;d++)o(d);return u},be=function(e,t,n,a,r,i,s,o,c,l,u,m){fetch("https://europe.motis-project.de/?elm=StationEvents",xe(e,t,n,a,r)).then((function(e){return e.json()})).then((function(e){"EARLIER"===t?0!==e.content.events.length&&(ye(l,ge(e.content.events).concat(ge(i)),u),s(ge(e.content.events).concat(ge(i))),o(1e3*Math.floor(e.content.events[0].event.time/1e3))):0===e.content.events.length||d()(e.content.events[e.content.events.length-1],i[i.length-1])||(ye(l,ge(i).concat(ge(e.content.events)),u),s(ge(i).concat(ge(e.content.events))),c(1e3*(Math.floor(e.content.events[e.content.events.length-1].event.time/1e3)+1))),m(!1)}))},ye=function(e,t,n){for(var a=[0],r=ge(t),i=c().unix(t[0].event.time),s=[i.format(n.dateFormat)],o=1;o<t.length;o++)c().unix(t[o].event.time).day()!==i.day()&&(a.push(o),i.add(1,"day"),s.push(i.format(n.dateFormat)));a.map((function(e,t){r.splice(e+t,0,Se(s[t]))})),e(r)},Se=function(e){return{trips:[],type:"",event:{time:0,schedule_time:0,track:"",schedule_track:"",valid:!1,reason:""},dummyEvent:e}},Ne=function(e){var t=(0,r.useState)(null),n=t[0],i=t[1],s=(0,r.useState)(null),o=s[0],c=s[1],l=(0,r.useState)(!1),u=l[0],d=l[1],m=(0,r.useState)(!1),p=m[0],h=m[1],v=(0,r.useState)(""),f=v[0],g=v[1],x=!0,j=e.station.id,b=(0,r.useState)(null===e.searchDate?0:e.searchDate.unix()),y=b[0],S=(b[1],(0,r.useState)(0)),N=S[0],w=S[1],k=(0,r.useState)(Number.MAX_VALUE),_=k[0],C=k[1],D=(0,r.useState)("DEP"),T=D[0],A=D[1],E=(0,r.useState)("BOTH"),O=E[0];E[1];return(0,r.useEffect)((function(){if(""!==j){fetch("https://europe.motis-project.de/?elm=StationEvents",xe(x,O,20,j,y)).then((function(e){return e.json()})).then((function(t){0===t.content.events.length?(i([]),c([])):(g(t.content.station.name),ye(c,t.content.events,e.translation),i(t.content.events),w(t.content.events[0].event.time),C(t.content.events[t.content.events.length-1].event.time)),A("DEP"),window.portEvents.pub("mapFlyTo",{animate:!0,bearing:null,lat:t.content.station.pos.lat,lng:t.content.station.pos.lng,mapId:"map",ptich:null,zoom:null})}))}}),[O,e.station]),(0,a.jsxs)("div",{className:"station-events",children:[(0,a.jsxs)("div",{className:"header",children:[(0,a.jsx)("div",{className:"back",onClick:function(){var t=ge(e.subOverlayContent);t.pop(),e.setSubOverlayContent(t),window.portEvents.pub("mapFitBounds",he(e.displayedConnection))},children:(0,a.jsx)("i",{className:"icon",children:"arrow_back"})}),(0,a.jsx)("div",{className:"station",children:f}),(0,a.jsxs)("div",{className:"event-type-picker",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"radio",id:"station-departures",name:"station-event-types",value:"DEP",checked:"DEP"===T,onChange:function(e){return A(e.currentTarget.value)}}),(0,a.jsx)("label",{htmlFor:"station-departures",children:e.translation.search.departure})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"radio",id:"station-arrivals",name:"station-event-types",value:"ARR",checked:"ARR"===T,onChange:function(e){return A(e.currentTarget.value)}}),(0,a.jsx)("label",{htmlFor:"station-arrivals",children:e.translation.search.arrival})]})]})]}),(0,a.jsx)("div",{className:"events",children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("div",{className:"extend-search-interval search-before",onClick:function(){be(x,"EARLIER",20,j,N,n,i,w,C,c,e.translation,d),d(!0)},children:u?(0,a.jsx)(fe,{}):(0,a.jsx)("a",{children:e.translation.connections.extendBefore})}),(0,a.jsx)("div",{className:"event-list",children:o?je(o,e.translation,T,e.subOverlayContent,e.setSubOverlayContent,e.setTrainSelected):(0,a.jsx)(a.Fragment,{})}),(0,a.jsx)("div",{className:"divider footer"}),(0,a.jsx)("div",{className:"extend-search-interval search-after",onClick:function(){be(x,"LATER",20,j,_,n,i,w,C,c,e.translation,h),h(!0)},children:p?(0,a.jsx)(fe,{}):(0,a.jsx)("a",{children:e.translation.connections.extendAfter})})]})})]})};function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(c){r=!0,i=c}finally{try{a||null==o.return||o.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ke=function(e){var t=r.useRef(null),n=r.useRef(null),i=we(r.useState(null),2),s=i[0],o=i[1],l=we(r.useState(""),2),u=l[0],d=l[1],m=we(r.useState(""),2),p=m[0],h=m[1],f=we(r.useState("gb-input-group-selected"),2),g=f[0],x=f[1];return r.useEffect((function(){e.searchDate&&(o(e.searchDate),d(e.searchDate.format("HH:mm")))}),[e.searchDate]),r.useEffect((function(){if(s&&""!==e.trainNumber){fetch("https://europe.motis-project.de/?elm=TripSearch",(t=s,n=e.trainNumber,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({destination:{type:"Module",target:"/railviz/get_trip_guesses"},content_type:"RailVizTripGuessRequest",content:{guess_count:20,time:t,train_num:n}})})).then((function(e){return e.json()})).then((function(t){e.setTrips(t.content.trips)})).catch((function(e){}))}var t,n}),[s,u,e.trainNumber]),A(t,h),A(n,x),(0,a.jsx)("div",{className:"header",children:(0,a.jsxs)("div",{id:"trip-search-form",children:[(0,a.jsx)("div",{className:"pure-g gutters",children:(0,a.jsx)("div",{className:"pure-u-1 pure-u-sm-1-2 train-nr",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"label",children:e.translation.search.trainNr}),(0,a.jsxs)("div",{className:"gb-input-group ".concat(g),children:[(0,a.jsx)("div",{className:"gb-input-icon",children:(0,a.jsx)("i",{className:"icon",children:"train"})}),(0,a.jsx)("input",{className:"gb-input",tabIndex:1,type:"text",id:"trip-search-trainnr-input",value:e.trainNumber,ref:n,autoFocus:!0,onChange:function(t){e.setTrainNumber(t.currentTarget.value)},onFocus:function(){return x("gb-input-group-selected")}})]})]})})}),(0,a.jsxs)("div",{className:"pure-g gutters",children:[(0,a.jsx)("div",{className:"pure-u-1 pure-u-sm-12-24 to-location",children:(0,a.jsx)("div",{children:(0,a.jsx)(v,{translation:e.translation,currentDate:s,setCurrentDate:o,scheduleInfo:e.scheduleInfo})})}),(0,a.jsx)("div",{className:"pure-u-1 pure-u-sm-12-24",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"label",children:e.translation.search.time}),(0,a.jsxs)("div",{className:"gb-input-group ".concat(p),children:[(0,a.jsx)("div",{className:"gb-input-icon",children:(0,a.jsx)("i",{className:"icon",children:"schedule"})}),(0,a.jsx)("input",{className:"gb-input",ref:t,tabIndex:4,value:u,onChange:function(e){if(d(e.currentTarget.value),2==e.currentTarget.value.split(":").length){var t=we(e.currentTarget.value.split(":"),2),n=t[0],a=t[1];if(!isNaN(+n)&&!isNaN(+a)){var r=c()(s);r.hour(n>23?23:n),r.minute(a>59?59:a),o(r)}}},onKeyDown:function(e){"Enter"==e.key&&d(s.format("HH:mm"))},onFocus:function(){return h("gb-input-group-selected")}}),(0,a.jsx)("div",{className:"gb-input-widget",children:(0,a.jsxs)("div",{className:"hour-buttons",children:[(0,a.jsx)("div",{children:(0,a.jsx)("a",{className:"gb-button gb-button-small gb-button-circle gb-button-outline gb-button-PRIMARY_COLOR disable-select",onClick:function(){var e=s.clone().subtract(1,"h");o(e),d(e.format("HH:mm"))},children:(0,a.jsx)("i",{className:"icon",children:"chevron_left"})})}),(0,a.jsx)("div",{children:(0,a.jsx)("a",{className:"gb-button gb-button-small gb-button-circle gb-button-outline gb-button-PRIMARY_COLOR disable-select",onClick:function(){var e=s.clone().add(1,"h");o(e),d(e.format("HH:mm"))},children:(0,a.jsx)("i",{className:"icon",children:"chevron_right"})})})]})})]})]})})]})]})})};function _e(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Ce=function(e){return(0,a.jsxs)("div",{className:"trip",children:[(0,a.jsx)("div",{className:"trip-train",children:(0,a.jsx)("span",{children:(0,a.jsxs)("div",{className:"train-box train-class-".concat(e.trip.trip_info.transport.clasz," with-tooltip"),"data-tooltip":"".concat(e.translation.connections.provider,": ").concat(e.trip.trip_info.transport.provider,"\n").concat(e.translation.search.trainNr,": ").concat(e.trip.trip_info.id.train_nr),onClick:function(){e.setTrainSelected(e.trip.trip_info.id),e.setSubOverlayContent(_e(e.subOverlayContent).concat([{id:"tripView",train:e.trip.trip_info.id}]))},children:[(0,a.jsx)("svg",{className:"train-icon",children:(0,a.jsx)("use",{xlinkHref:J({move:e.trip.trip_info.transport,move_type:"Transport"})})}),(0,a.jsx)("span",{className:"train-name",children:e.trip.trip_info.transport.name})]})})}),(0,a.jsxs)("div",{className:"trip-time",children:[(0,a.jsx)("div",{className:"time",children:c().unix(e.trip.trip_info.id.time).format("HH:mm")}),(0,a.jsx)("div",{className:"date",children:c().unix(e.trip.trip_info.id.time).format("D.M.")})]}),(0,a.jsxs)("div",{className:"trip-first-station",children:[(0,a.jsx)("div",{className:"station",title:e.trip.first_station.name,onClick:function(){e.setSubOverlayContent(_e(e.subOverlayContent).concat([{id:"stationEvent",station:e.trip.first_station,stationTime:c().unix(e.trip.trip_info.id.time)}]))},children:e.trip.first_station.name}),(0,a.jsxs)("div",{className:"direction",title:e.trip.trip_info.transport.direction,children:[(0,a.jsx)("i",{className:"icon",children:"arrow_forward"}),e.trip.trip_info.transport.direction]})]})]},"tripSearch ".concat(e.trip.trip_info.id.time))};function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(c){r=!0,i=c}finally{try{a||null==o.return||o.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Te=function(e){var t=De(r.useState(null),2),n=t[0],i=t[1],s=De(r.useState(""),2),o=s[0],c=s[1];return(0,a.jsxs)("div",{className:0===e.subOverlayContent.length?"sub-overlay hidden":"sub-overlay",children:[(0,a.jsx)("div",{id:"sub-overlay-content",children:0!==e.subOverlayContent.length?{tripSearch:(0,a.jsxs)("div",{className:"trip-search",children:[(0,a.jsx)(ke,{translation:e.translation,searchDate:e.searchDate,scheduleInfo:e.scheduleInfo,trainNumber:o,setTrips:i,setTrainNumber:c}),(0,a.jsx)("div",{className:"trips",children:n?n.map((function(t){return(0,a.jsx)(Ce,{translation:e.translation,trip:t,subOverlayContent:e.subOverlayContent,setSubOverlayContent:e.setSubOverlayContent,setTrainSelected:e.setTrainSelected})})):(0,a.jsx)(a.Fragment,{})})]}),stationEvent:(0,a.jsx)(Ne,{translation:e.translation,station:e.subOverlayContent.at(-1).station,searchDate:e.subOverlayContent.at(-1).stationTime,setTrainSelected:e.setTrainSelected,subOverlayContent:e.subOverlayContent,setSubOverlayContent:e.setSubOverlayContent,displayedConnection:e.displayedConnection}),tripView:(0,a.jsx)(ve,{trainSelected:e.subOverlayContent.at(-1).train,setTrainSelected:e.setTrainSelected,overlayTripView:e.displayedConnection,setTripViewHidden:null,translation:e.translation,subOverlayContent:e.subOverlayContent,setSubOverlayContent:e.setSubOverlayContent,mapFilter:e.mapFilter})}[e.subOverlayContent.at(-1).id]:(0,a.jsx)(a.Fragment,{})}),(0,a.jsx)("div",{className:"sub-overlay-close",onClick:function(){e.setSubOverlayContent([]),e.setSubOverlayToggle(!1),window.portEvents.pub("mapSetDetailFilter",e.mapFilter),window.portEvents.pub("mapFitBounds",he(e.displayedConnection))},children:(0,a.jsx)("i",{className:"icon",children:"close"})})]})};function Ae(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Ee=function(e){for(var t=[],n=0;n<e.trips.length;n++){for(var a=e.trips[n].id,r=[],i=e.trips[n].range.from;i<e.trips[n].range.to;i++)r.push({arrivalStation:e.stops[i+1].station,departureStation:e.stops[i].station,scheduledArrivalTime:e.stops[i+1].arrival.schedule_time,scheduledDepartureTime:e.stops[i].departure.schedule_time});t.push({sections:r,trip:a})}for(var s=[],o=0;o<e.transports.length;o++)if("Walk"===e.transports[o].move_type){var c=e.transports[o].move;s.push({arrivalStation:e.stops[c.range.to].station,departureStation:e.stops[c.range.from].station,accessibility:c.accessibility,mumoType:c.mumo_type})}for(var l=[],u=0;u<t.length;u++)l.push(t[u].sections[0].departureStation),l.push(t[u].sections[t[u].sections.length-1].arrivalStation);return{interchangeStations:l,trains:t,walks:s}},Oe=function(e){var t=(0,r.useState)(!0),n=t[0],i=t[1],s=(0,r.useState)(null),o=s[0],l=s[1],u=(0,r.useState)(null),d=u[0],m=u[1],p=(0,r.useState)(!1),h=p[0],v=p[1],f=(0,r.useState)(!1),x=f[0],j=f[1],b=(0,r.useState)(!0),y=b[0],S=b[1],N=(0,r.useState)(0),w=N[0],k=N[1],_=(0,r.useState)(void 0),C=_[0],D=_[1],T=(0,r.useState)(!1),A=T[0],E=T[1],O=(0,r.useState)(g("motis.routing.from_location")),I=O[0],z=O[1],F=(0,r.useState)(g("motis.routing.to_location")),P=F[0],M=F[1],H=(0,r.useState)(null),R=H[0],L=H[1],W=(0,r.useState)([]),B=W[0],V=W[1],Y=(0,r.useState)(!1),K=Y[0],Z=Y[1],q=(0,r.useState)(!1),J=q[0],G=q[1];return r.useEffect((function(){window.portEvents.sub("showTripDetails",(function(t){e.setSubOverlayContent(Ae(e.subOverlayContent).concat([{id:"tripView",train:t}])),D(t)}))})),r.useEffect((function(){window.portEvents.sub("showStationDetails",(function(e){L(null),window.portEvents.pub("mapSetDetailFilter",null)}))})),r.useEffect((function(){y&&(L(null),window.portEvents.pub("mapSetDetailFilter",null))}),[y]),r.useEffect((function(){l(e.searchDate)}),[e.searchDate]),r.useEffect((function(){var t=[];void 0!==e.mapData&&null!==e.mapData.hoveredTripSegments&&(e.mapData.hoveredTripSegments.map((function(e){t.push(e.connectionIds[0])})),V(t),E(!0)),void 0!==e.mapData&&null!==e.mapData.hoveredWalkSegment&&(V(Ae(e.mapData.hoveredWalkSegment.connectionIds)),E(!0)),e.mapData&&null===e.mapData.hoveredTripSegments&&null===e.mapData.hoveredWalkSegment&&E(!1)}),[e.mapData]),(0,a.jsxs)("div",{className:n?"overlay-container":"overlay-container hidden",children:[(0,a.jsxs)("div",{className:"overlay",children:[(0,a.jsxs)("div",{id:"overlay-content",children:[(0,a.jsx)(U,{translation:e.translation,scheduleInfo:e.scheduleInfo,start:I,destination:P,connections:d,extendForwardFlag:h,extendBackwardFlag:x,tripViewHidden:y,searchDate:o,setStart:z,setDestination:M,setConnections:m,setExtendForwardFlag:v,setExtendBackwardFlag:j,setSearchDate:l,setLoading:Z}),e.scheduleInfo?K?(0,a.jsx)(fe,{}):d?0!==d.length?(0,a.jsx)("div",{id:"connections".concat(y?"":"-hidden"),children:(0,a.jsxs)("div",{className:"connections",children:[(0,a.jsx)("div",{className:"extend-search-interval search-before",onClick:function(){return j(!0)},children:x?(0,a.jsx)(fe,{}):(0,a.jsx)("a",{children:e.translation.connections.extendBefore})}),(0,a.jsxs)("div",{className:"connection-list",children:[d.map((function(t,n){return t.dummyDay?(0,a.jsx)("div",{className:"date-header divider",children:(0,a.jsx)("span",{children:t.dummyDay})},"divider"+t.dummyDay):(0,a.jsx)("div",{className:"connection".concat(t.new).concat(A?"".concat(B.includes(t.id)?" highlighted":" faded"):""),onClick:function(){S(!1),k(n),m(d.map((function(e){return e.new="",e}))),L(Ee(t)),window.portEvents.pub("mapSetDetailFilter",Ee(t)),window.portEvents.pub("mapFitBounds",he(t))},onMouseEnter:function(){var e=[];e.push(t.id),window.portEvents.pub("mapHighlightConnections",e)},onMouseLeave:function(){window.portEvents.pub("mapHighlightConnections",[])},children:(0,a.jsxs)("div",{className:"pure-g",children:[(0,a.jsxs)("div",{className:"pure-u-4-24 connection-times",children:[(0,a.jsxs)("div",{className:"connection-departure",children:[c().unix(t.stops[0].departure.time).format("HH:mm"),(0,a.jsx)(ee,{event:t.stops[0].departure})]}),(0,a.jsxs)("div",{className:"connection-arrival",children:[c().unix(t.stops[t.stops.length-1].arrival.time).format("HH:mm"),(0,a.jsx)(ee,{event:t.stops[t.stops.length-1].arrival})]})]}),(0,a.jsx)("div",{className:"pure-u-4-24 connection-duration",children:ie(t.stops[0].departure.time,t.stops[t.stops.length-1].arrival.time)}),(0,a.jsx)("div",{className:"pure-u-16-24 connection-trains",children:(0,a.jsx)("div",{className:A?"transport-graph highlighting":"transport-graph",children:(0,a.jsx)($,{translation:e.translation,connection:t,connectionHighlighted:A,mapData:e.mapData,parentIndex:t.id})})})]})},"connection"+t.id)})),(0,a.jsx)("div",{className:"divider footer"}),(0,a.jsx)("div",{className:"extend-search-interval search-after",onClick:function(){return v(!0)},children:h?(0,a.jsx)(fe,{}):(0,a.jsx)("a",{children:e.translation.connections.extendAfter})})]})]})}):(0,a.jsx)("div",{id:"connections",children:e.searchDate&&(e.searchDate.unix()<e.scheduleInfo.begin||e.searchDate.unix()>e.scheduleInfo.end)?(0,a.jsxs)("div",{className:"main-error",children:[(0,a.jsx)("div",{className:"",children:e.translation.errors.journeyDateNotInSchedule}),(0,a.jsx)("div",{className:"schedule-range",children:e.translation.connections.scheduleRange(e.scheduleInfo.begin,e.scheduleInfo.end-86400)})]}):(0,a.jsxs)("div",{className:"no-results",children:[(0,a.jsx)("div",{children:e.translation.connections.noResults}),(0,a.jsx)("div",{className:"schedule-range",children:e.translation.connections.scheduleRange(e.scheduleInfo.begin,e.scheduleInfo.end-86400)})]})}):(0,a.jsx)("div",{id:"connections",children:(0,a.jsx)("div",{className:"no-results",children:(0,a.jsx)("div",{className:"schedule-range",children:e.translation.connections.scheduleRange(e.scheduleInfo.begin,e.scheduleInfo.end-86400)})})}):(0,a.jsx)("div",{className:"no-results",children:""}),y?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(ve,{translation:e.translation,trainSelected:d[w],overlayTripView:null,setTrainSelected:D,setTripViewHidden:S,mapFilter:e.mapData,subOverlayContent:e.subOverlayContent,setSubOverlayContent:e.setSubOverlayContent})]}),(0,a.jsx)(Te,{translation:e.translation,scheduleInfo:e.scheduleInfo,searchDate:e.searchDate,trainSelected:C,displayedConnection:d?d[w]:null,mapFilter:R,setTrainSelected:D,subOverlayContent:e.subOverlayContent,setSubOverlayContent:e.setSubOverlayContent,setSubOverlayToggle:G})]}),(0,a.jsxs)("div",{className:"overlay-tabs",children:[(0,a.jsx)("div",{className:"overlay-toggle",onClick:function(){return i(!n)},children:(0,a.jsx)("i",{className:"icon",children:"arrow_drop_down"})}),(0,a.jsx)("div",{className:"trip-search-toggle ".concat(J?"enabled":""),onClick:function(){J?(e.setSubOverlayContent([]),G(!1)):(e.setSubOverlayContent([{id:"tripSearch"}]),G(!0))},children:(0,a.jsx)("i",{className:"icon",children:"train"})})]})]})};function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(c){r=!0,i=c}finally{try{a||null==o.return||o.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ze=function(e){return c().unix(e).format("D/M/YYYY")},Fe=function(e){return c().unix(e).format("D.M.YYYY")},Pe={search:{search:"Suchen",start:"Start",destination:"Ziel",date:"Datum",weekDays:["Mo","Di","Mi","Do","Fr","Sa","So"],months:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dateInputHandler:function(e,t,n){if(3==e.split(".").length){var a=Ie(e.split("."),3),r=a[0],i=a[1],s=a[2];if(""!==r&&!isNaN(+r)&&""!==i&&!isNaN(+i)&&""!==s&&!isNaN(+s)){var o=c()(t);o.year(s),o.month(i-1),o.date(r),n(o)}}},time:"Uhrzeit",startTransports:"Verkehrsmittel am Start",destinationTransports:"Verkehrsmittel am Ziel",departure:"Abfahrt",arrival:"Ankunft",trainNr:"Zugnummer",maxDuration:"Maximale Dauer (Minuten)",searchProfile:{profile:"Profil",walkingSpeed:"Laufgeschwindigkeit (m/s)",stairsUp:"Treppen (aufw\xe4rts)",stairsDown:"Treppen (abw\xe4rts)",stairsWithHandrailUp:"Treppen mit Gel\xe4nder (aufw\xe4rts)",stairsWithHandrailDown:"Treppen mit Gel\xe4nder (abw\xe4rts)",timeCost:"Zeitaufwand",accessibilityCost:"Beschwerlichkeit",streetCrossings:"Stra\xdfen\xfcberquerungen",signals:"Ampeln",marked:"Zebrastreifen",island:"Verkehrsinseln",unmarked:"Unmarkiert",primary:"Primary",secondary:"Secondary",tertiary:"Tertiary",residential:"Residential",elevationUp:"H\xf6henunterschiede (aufw\xe4rts)",elevationDown:"H\xf6henunterschiede (abw\xe4rts)",roundAccessibility:"Rundung Beweglichkeit",elevators:"Aufz\xfcge",escalators:"Rolltreppen",movingWalkways:"Fahrsteige"},useParking:"Parkpl\xe4tze verwenden"},connections:{timeHeader:"Zeit",durationHeader:"Dauer",transportsHeader:"Verkehrsmittel",scheduleRange:function(e,t){return"Auskunft von "+Fe(e)+" bis "+Fe(t)+" m\xf6glich"},loading:"Verbindungen suchen...",noResults:"Keine Verbindungen gefunden",extendBefore:"Fr\xfcher",extendAfter:"Sp\xe4ter",interchanges:function(e){return 0==e?"Keine Umstiege":1==e?"1 Umstieg":e+" Umstiege"},walkDuration:function(e){return e+" Fu\xdfweg"},interchangeDuration:function(e){return e+" Umstieg"},arrivalTrack:function(e){return"Ankunft Gleis"+e},track:"Gleis",tripIntermediateStops:function(e){return 0==e?"Fahrt ohne Zwischenhalt":1==e?"Fahrt 1 Station":"Fahrt "+e+" Stationen"},tripWalk:function(e){return"Fu\xdfweg ("+e+")"},tripBike:function(e){return"Fahrrad ("+e+")"},tripCar:function(e){return"Auto ("+e+")"},provider:"Betreiber",walk:"Fu\xdfweg",bike:"Fahrrad",car:"Auto",trainNr:"Zugnummer",lineId:"Linie",parking:"Parkplatz"},station:{direction:"Richtung",noDepartures:"Keine Abfahrten im gew\xe4hlten Zeitraum",noArrivals:"Keine Ank\xfcnfte im gew\xe4hlten Zeitraum",loading:"Laden...",trackAbbr:"Gl."},railViz:{noTrains:"Keine Z\xfcge",delayColors:"Nach Versp\xe4tung",classColors:"Nach Kategorie",simActive:"Simulationsmodus aktiv"},mapContextMenu:{routeFromHere:"Routen von hier",routeToHere:"Routen hierher"},errors:{journeyDateNotInSchedule:"Zeitraum nicht im Fahrplan",internalError:function(e){return"Interner Fehler ("+e+")"},timeout:"Zeit\xfcberschreitung",network:"Netzwerkfehler",http:function(e){return"HTTP-Fehler "+e},decode:function(e){return"Ung\xfcltige Antwort ("+e+")"},moduleNotFound:"Modul nicht geladen",osrmProfileNotAvailable:"OSRM: Profil nicht verf\xfcgbar",osrmNoRoutingResponse:"OSRM: Keine Routing-Antwort",pprProfileNotAvailable:"PPR: Profil nicht verf\xfcgbar"},trips:{noResults:"Keine passenden Z\xfcge gefunden"},misc:{permalink:"Permalink"},simTime:{simMode:"Simulationsmodus"},searchProfiles:{default:"Standard",accessibility1:"Auch nach leichten Wegen suchen",wheelchair:"Rollstuhl",elevation:"Weniger Steigung",custom:"Benutzerdefiniert"},dateFormat:"D.M.YYYY"},Me={search:{search:"Search",start:"Start",destination:"Destination",date:"Date",weekDays:["Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],dateInputHandler:function(e,t,n){if(3==e.split("/").length){var a=Ie(e.split("/"),3),r=a[0],i=a[1],s=a[2];if(""!==s&&!isNaN(+s)&&""!==i&&!isNaN(+i)&&""!==r&&!isNaN(+r)){var o=c()(t);o.year(r),o.month(i-1),o.date(s),n(o)}}},time:"Time",startTransports:"Transports at the start",destinationTransports:"Transports at the destination",departure:"Departure",arrival:"Arrival",trainNr:"Train Number",maxDuration:"Max. duration (minutes)",searchProfile:{profile:"Profil",walkingSpeed:"Walking speed (m/s)",stairsUp:"Stairs (up)",stairsDown:"Stairs (down)",stairsWithHandrailUp:"Stairs with handrail (up)",stairsWithHandrailDown:"Stairs with handrail (down)",timeCost:"Time cost",accessibilityCost:"Accessibility cost",streetCrossings:"Street crossings",signals:"Traffic signals",marked:"Marked (zebra crossings)",island:"Traffic islands",unmarked:"Unmarked",primary:"Primary",secondary:"Secondary",tertiary:"Tertiary",residential:"Residential",elevationUp:"Elevation difference (up)",elevationDown:"Elevation difference (down)",roundAccessibility:"Round accessibility",elevators:"Elevators",escalators:"Escalators",movingWalkways:"Moving walkways"},useParking:"Use parkings"},connections:{timeHeader:"Time",durationHeader:"Duration",transportsHeader:"Transports",scheduleRange:function(e,t){return"Possible dates: "+ze(e)+" - "+ze(t)},loading:"Searching...",noResults:"No connections found",extendBefore:"Earlier",extendAfter:"Later",interchanges:function(e){return 0==e?"No interchanges":1==e?"1 Interchange":e+" interchanges"},walkDuration:function(e){return e+" walk"},interchangeDuration:function(e){return e+" interchange"},arrivalTrack:function(e){return"Arrival track "+e},track:"Track",tripIntermediateStops:function(e){return 0==e?"No intermediate stops":1==e?"1 intermediate stop":e+" intermediate stops"},tripWalk:function(e){return"Walk ("+e+")"},tripBike:function(e){return"Bike ("+e+")"},tripCar:function(e){return"Car ("+e+")"},provider:"Provider",walk:"Walk",bike:"Bike",car:"Car",trainNr:"Train number",lineId:"Line",parking:"Parking"},station:{direction:"Direction",noDepartures:"No departures",noArrivals:"No arrivals",loading:"Loading...",trackAbbr:"Tr."},railViz:{noTrains:"No trains",delayColors:"By delay",classColors:"By category",simActive:"Simulation mode active"},mapContextMenu:{routeFromHere:"Directions from here",routeToHere:"Directions to here"},errors:{journeyDateNotInSchedule:"Date not in schedule",internalError:function(e){return"Internal error ("+e+")"},timeout:"Timeout",network:"Network error",http:function(e){return"HTTP error "+e},decode:function(e){return"Invalid response ("+e+")"},moduleNotFound:"Module not found",osrmProfileNotAvailable:"OSRM: Profile not available",osrmNoRoutingResponse:"OSRM: No routing response",pprProfileNotAvailable:"PPR: Profile not available"},trips:{noResults:"No matching trains found"},misc:{permalink:"Permalink"},simTime:{simMode:"Simulation mode"},searchProfiles:{default:"Default",accessibility1:"Include accessible routes",wheelchair:"Wheelchair",elevation:"Avoid elevation changes",custom:"Custom"},dateFormat:"YYYY/M/D"},He={search:{search:"Szukaj",start:"Pocz\u0105tek",destination:"Koniec",date:"Data",weekDays:["Pn","Wt","\u015ar","Cz","Pt","So","Nie"],months:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144"],dateInputHandler:function(e,t,n){if(3==e.split(".").length){var a=Ie(e.split("."),3),r=a[0],i=a[1],s=a[2];if(""!==r&&!isNaN(+r)&&""!==i&&!isNaN(+i)&&""!==s&&!isNaN(+s)){var o=c()(t);o.year(s),o.month(i-1),o.date(r),n(o)}}},time:"Godzina",startTransports:"\u015arodki transportu na pocz\u0105tku",destinationTransports:"\u015arodki transportu na ko\u0144cu",departure:"Odjazd",arrival:"Przyjazd",trainNr:"Numer kursu",maxDuration:"Max. czas trwania (w min.)",searchProfile:{profile:"Profil",walkingSpeed:"Pr\u0119dko\u015b\u0107 marszu (m/s)",stairsUp:"Schody (w g\xf3r\u0119)",stairsDown:"Schody (w d\xf3\u0142)",stairsWithHandrailUp:"Schody z por\u0119cz\u0105 (w g\xf3r\u0119)",stairsWithHandrailDown:"Schody z por\u0119cz\u0105 (w g\xf3\u0142)",timeCost:"Nak\u0142ad czasu",accessibilityCost:"uci\u0105\u017cliwo\u015b\u0107",streetCrossings:"przej\u015bcie przez ulic\u0119",signals:"lampy",marked:"Przej\u015bcie dla pieszych",island:"Wysepka",unmarked:"Nieoznaczone",primary:"Primary",secondary:"Secondary",tertiary:"Tertiary",residential:"Residential",elevationUp:"R\xf3\u017cnica wysoko\u015bci (w g\xf3r\u0119)",elevationDown:"R\xf3\u017cnice wysoko\u015bci (w d\xf3\u0142)",roundAccessibility:"Zdolno\u015b\u0107 do zaokr\u0105glania",elevators:"Windy",escalators:"Schody ruchome",movingWalkways:"Chodniki ruchome"},useParking:"Korzystaj z parking\xf3w"},connections:{timeHeader:"Czas",durationHeader:"Czas trwania",transportsHeader:"\u015brodki transportu",scheduleRange:function(e,t){return"Informacja od "+Fe(e)+" do "+Fe(t)+" mo\u017cliwa"},loading:"Szukam po\u0142\u0105cze\u0144...",noResults:"Nie znaleziono po\u0142\u0105cze\u0144",extendBefore:"Wcze\u015bniej",extendAfter:"P\xf3\u017aniej",interchanges:function(e){return 0==e?"Bez przesiadek":1==e?"1 przesiadka":e+" przesiadek"},walkDuration:function(e){return e+" Spacer"},interchangeDuration:function(e){return e+" przesiadka"},arrivalTrack:function(e){return"peron przyjazdu "+e},track:"Peron",tripIntermediateStops:function(e){return 0==e?"Podr\xf3\u017c bez zatrzymywania si\u0119":1==e?"Podr\xf3\u017c 1 przystanek":"Podr\xf3\u017c "+e+" przystank\xf3w"},tripWalk:function(e){return"Spacer ("+e+")"},tripBike:function(e){return"Rower ("+e+")"},tripCar:function(e){return"Samoch\xf3d ("+e+")"},provider:"Operator",walk:"Spacer",bike:"Rower",car:"Samoch\xf3d",trainNr:"Numer kursu",lineId:"Linia",parking:"Parking"},station:{direction:"Kierunek",noDepartures:"Brak odjazd\xf3w w wybranym okresie",noArrivals:"Brak przyjazd\xf3w w wybranym okresie",loading:"\u0141aduj\u0119...",trackAbbr:"Per."},railViz:{noTrains:"Brak kurs\xf3w",delayColors:"Wed\u0142ug op\xf3\u017anie\u0144",classColors:"Wed\u0142ug kategorii",simActive:"Tryb symulacji aktywny"},mapContextMenu:{routeFromHere:"Pocz\u0105tek podr\xf3\u017cy tutaj",routeToHere:"Koniec podr\xf3\u017cy tutaj"},errors:{journeyDateNotInSchedule:"Okres poza harmonogramem",internalError:function(e){return"B\u0142\u0105d wewn\u0119trzny ("+e+")"},timeout:"Przekroczono limit czasu",network:"B\u0142\u0105d sieci",http:function(e){return"B\u0142\u0105d HTTP "+e},decode:function(e){return"Nieprawid\u0142owa odpowied\u017a ("+e+")"},moduleNotFound:"Modu\u0142 nie za\u0142adowany",osrmProfileNotAvailable:"OSRM: Profil niedost\u0119pny",osrmNoRoutingResponse:"OSRM: brak odpowiedzi nawigacji",pprProfileNotAvailable:"PPR: Profil niedost\u0119pny"},trips:{noResults:"Nie znaleziono pasuj\u0105cych kurs\xf3w"},misc:{permalink:"Permalink"},simTime:{simMode:"Tryb symulacji"},searchProfiles:{default:"Domy\u015blny",accessibility1:"Poszukaj te\u017c \u0142atwej trasy",wheelchair:"w\xf3zek inwalidzki",elevation:"Mniej wzniesie\u0144",custom:"U\u017cytkownika"},dateFormat:"D.M.YYYY"},Re=function(e){return(0,a.jsx)("div",{id:"station-search",className:"",children:(0,a.jsx)(C,{translation:e.translation,label:e.translation.search.destination,station:e.station,setSearchDisplay:e.setStationSearch,localStorageStation:"stationEvent"})})},Le=function(e){var t=(0,r.useState)(e.train||{names:[""],departureTime:0,departureStation:"",hasDepartureDelayInfo:!1,scheduledDepartureTime:0,arrivalTime:0,arrivalStation:"",hasArrivalDelayInfo:!1,scheduledArrivalTime:0}),n=t[0],i=t[1];return(0,r.useEffect)((function(){e.train&&i(e.train)}),[e.train]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"transport-name",children:n.names[0]}),(0,a.jsxs)("div",{className:"departure",children:[(0,a.jsx)("span",{className:"station",children:n.departureStation}),(0,a.jsxs)("div",{className:"time ".concat(n.hasDepartureDelayInfo?"":"no-delay-infos"),children:[(0,a.jsx)("span",{className:"schedule",children:c()(n.departureTime).format("HH:mm")}),n.hasDepartureDelayinfo?(0,a.jsx)(ee,{event:{time:n.departureTime,schedule_time:n.scheduledDepartureTime,track:"",reason:"Schedule"}}):(0,a.jsx)(a.Fragment,{})]})]}),(0,a.jsxs)("div",{className:"arrival",children:[(0,a.jsx)("span",{className:"station",children:n.arrivalStation}),(0,a.jsxs)("div",{className:"time ".concat(n.hasArrivalDelayInfo?"":"no-delay-infos"),children:[(0,a.jsx)("span",{className:"schedule",children:c()(n.arrivalTime).format("HH:mm")}),n.hasArrivalDelayInfo?(0,a.jsx)(ee,{event:{time:n.arrivalTime,schedule_time:n.scheduledArrivalTime,track:"",reason:"Schedule"}}):(0,a.jsx)(a.Fragment,{})]})]})]})},We=function(e){var t=(0,r.useState)(e.station),n=t[0],i=t[1];return(0,r.useEffect)((function(){e.station&&i(e.station)}),[e.station]),(0,a.jsx)("div",{className:"station-name",children:n})};function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(c){r=!0,i=c}finally{try{a||null==o.return||o.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ve(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Ye=function(e,t,n){var a=e.unix();return a+=t,c().unix(a).format(n+" HH:mm:ss")},Ue=function(e){var t=Be(r.useState(c()().format("HH:mm:ss")),2),n=t[0],i=t[1],s=Be(r.useState(""),2),o=s[0],l=s[1],u=r.useRef(null),d=Be(r.useState(!1),2),m=d[0],p=d[1],h=Be(r.useState(e.searchDate),2),f=h[0],g=h[1],x=Be(r.useState(c()()),2),j=x[0],b=x[1],y=Be(r.useState(!1),2),S=y[0],N=y[1],w=Be(r.useState(0),2),k=w[0],_=w[1],C=Be(r.useState(null),2),D=C[0],T=C[1],A=Be(r.useState(),2),E=A[0],I=A[1],z=Be(r.useState(!1),2),F=z[0],P=z[1],M=Be(r.useState(""),2),H=M[0],R=M[1];(0,r.useEffect)((function(){e.searchDate&&(g(e.searchDate),i(e.searchDate.format("HH:mm:ss")))}),[e.searchDate]);var L=Be(r.useState("railviz-tooltip hidden"),2),W=L[0],B=L[1],V=Be(r.useState(null),2),Y=V[0],U=V[1];return(0,r.useEffect)((function(){window.portEvents.sub("mapInitFinished",(function(){window.portEvents.pub("mapSetLocale",e.translation.search)}))})),(0,r.useEffect)((function(){if(e.mapData){if(e.mapData.hoveredTrain)return B("railviz-tooltip train visible"),void U(!0);if(e.mapData.hoveredStation)return B("railviz-tooltip station visible"),void U(!1)}B("railviz-tooltip hidden")}),[e.mapData]),(0,r.useEffect)((function(){if(null!==f){var e=S?f.diff(c()()):j.diff(c()());window.portEvents.pub("setTimeOffset",e)}}),[f,S]),(0,r.useEffect)((function(){var e=null;S?e=setInterval((function(){_((function(e){return e+1}))}),1e3):S||0===k||clearInterval(e);var t=null;return S?S&&0!==k&&clearInterval(t):t=setInterval((function(){_((function(e){return e+1}))}),1e3),function(){clearInterval(e),clearInterval(t)}}),[S,k]),(0,r.useEffect)((function(){b(c()()),_(0)}),[S,n]),(0,r.useEffect)((function(){window.portEvents.sub("showStationDetails",(function(e){T(e)}))})),(0,r.useEffect)((function(){D&&(S?f&&e.setSubOverlayContent(Ve(e.subOverlayContent).concat([{id:"stationEvent",station:{id:D,name:""},stationTime:c().unix(f.unix()+k)}])):e.setSubOverlayContent(Ve(e.subOverlayContent).concat([{id:"stationEvent",station:{id:D,name:""},stationTime:c()()}])))}),[D]),(0,r.useEffect)((function(){window.portEvents.sub("mapUpdate",(function(e){I(e)}))})),(0,r.useEffect)((function(){if(void 0!==E&&null!==f){var e=f.clone().add(k,"seconds"),t=E.center,n=E.zoom,a=E.bearing,r=E.pitch;R("#/railviz/".concat(t.lat,"/").concat(t.lng,"/").concat(n,"/").concat(a,"/").concat(r,"/").concat(e.unix()))}}),[E,F]),(0,a.jsxs)("div",{className:"map-container",children:[(0,a.jsx)("div",{id:"map-background",className:"mapboxgl-map"}),(0,a.jsx)("div",{id:"map-foreground",className:"mapboxgl-map"}),(0,a.jsx)("div",{className:W,style:{top:(e.mapData?e.mapData.mouseY+20:0)+"px",left:(e.mapData?e.mapData.mouseX-114:0)+"px"},children:e.mapData?Y?(0,a.jsx)(Le,{train:e.mapData.hoveredTrain}):(0,a.jsx)(We,{station:e.mapData.hoveredStation}):(0,a.jsx)(a.Fragment,{})}),(0,a.jsxs)("div",{className:"map-bottom-overlay",children:[(0,a.jsxs)("div",{className:"sim-time-overlay",children:[(0,a.jsx)("div",{id:"railviz-loading-spinner",className:"",children:(0,a.jsxs)("div",{className:"spinner",children:[(0,a.jsx)("div",{className:"bounce1"}),(0,a.jsx)("div",{className:"bounce2"}),(0,a.jsx)("div",{className:"bounce3"})]})}),(0,a.jsx)("div",{className:"permalink",title:e.translation.misc.permalink.toString(),onClick:function(){return P(!F)},children:(0,a.jsx)("a",{href:H,children:(0,a.jsx)("i",{className:"icon",children:"link"})})}),S?(0,a.jsx)("div",{className:"sim-icon",title:e.translation.railViz.simActive.toString(),children:(0,a.jsx)("i",{className:"icon",children:"warning"})}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)("div",{className:"time",id:"sim-time-overlay",onClick:function(){return p(!m)},children:S?f?Ye(f,k,e.translation.dateFormat):"":c()().format(e.translation.dateFormat+" HH:mm:ss")})]}),(0,a.jsxs)("div",{className:"train-color-picker-overlay",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"radio",id:"train-color-picker-none",name:"train-color-picker",onClick:function(){window.portEvents.pub("mapShowTrains",!1)}}),(0,a.jsx)("label",{htmlFor:"train-color-picker-none",children:e.translation.railViz.noTrains})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"radio",id:"train-color-picker-className",name:"train-color-picker",defaultChecked:!0,onClick:function(){window.portEvents.pub("mapUseTrainClassColors",!0),window.portEvents.pub("mapShowTrains",!0)}}),(0,a.jsx)("label",{htmlFor:"train-color-picker-className",children:e.translation.railViz.classColors})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"radio",id:"train-color-picker-delay",name:"train-color-picker",onClick:function(){window.portEvents.pub("mapUseTrainClassColors",!1),window.portEvents.pub("mapShowTrains",!0)}}),(0,a.jsx)("label",{htmlFor:"train-color-picker-delay",children:e.translation.railViz.delayColors})]})]})]}),(0,a.jsx)(O,{translation:e.translation}),(0,a.jsx)("div",{className:m?"sim-time-picker-container":"sim-time-picker-container hide",children:(0,a.jsxs)("div",{className:"sim-time-picker-overlay",children:[(0,a.jsxs)("div",{className:"title",children:[(0,a.jsx)("input",{type:"checkbox",id:"sim-mode-checkbox",name:"sim-mode-checkbox",onClick:function(){N(!S)}}),(0,a.jsx)("label",{htmlFor:"sim-mode-checkbox",children:e.translation.simTime.simMode})]}),(0,a.jsx)("div",{className:S?"date":"date disabled",children:(0,a.jsx)(v,{translation:e.translation,currentDate:f,setCurrentDate:g,scheduleInfo:e.scheduleInfo})}),(0,a.jsxs)("div",{className:S?"time":"time disabled",children:[(0,a.jsx)("div",{className:"label",children:e.translation.search.time}),(0,a.jsxs)("div",{className:"gb-input-group ".concat(o),children:[(0,a.jsx)("div",{className:"gb-input-icon",children:(0,a.jsx)("i",{className:"icon",children:"schedule"})}),(0,a.jsx)("input",{className:"gb-input",ref:u,tabIndex:4,value:n,onChange:function(e){if(i(e.currentTarget.value),3==e.currentTarget.value.split(":").length){var t=Be(e.currentTarget.value.split(":"),3),n=t[0],a=t[1],r=t[2];if(!isNaN(+n)&&!isNaN(+a)&&!isNaN(+r)){var s=c()(f);s.hour(n>23?23:n),s.minute(a>59?59:a),s.seconds(r>59?59:r),g(s)}}},onKeyDown:function(e){"Enter"==e.key&&i(f.format("HH:mm:ss"))},onFocus:function(){return l("gb-input-group-selected")}}),(0,a.jsx)("div",{className:"gb-input-widget",children:(0,a.jsxs)("div",{className:"hour-buttons",children:[(0,a.jsx)("div",{children:(0,a.jsx)("a",{className:"gb-button gb-button-small gb-button-circle gb-button-outline gb-button-PRIMARY_COLOR disable-select",onClick:function(){var e=f.clone().subtract(1,"h");g(e),i(e.format("HH:mm:ss"))},children:(0,a.jsx)("i",{className:"icon",children:"chevron_left"})})}),(0,a.jsx)("div",{children:(0,a.jsx)("a",{className:"gb-button gb-button-small gb-button-circle gb-button-outline gb-button-PRIMARY_COLOR disable-select",onClick:function(){var e=f.clone().add(1,"h");g(e),i(e.format("HH:mm:ss"))},children:(0,a.jsx)("i",{className:"icon",children:"chevron_right"})})})]})})]})]}),(0,a.jsx)("div",{className:"close",children:(0,a.jsx)("i",{className:"icon",onClick:function(){return p(!1)},children:"close"})})]})})]})};function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(c){r=!0,i=c}finally{try{a||null==o.return||o.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ze(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var qe=function(){var e=(0,s.useRouter)().query.lang;return"de"===e?Pe:"pl"===e?He:Me},Je=function(){var e=Ke(r.useState(null),2),t=e[0],n=e[1],i=Ke(r.useState({id:"",name:""}),2),s=i[0],o=i[1],u=Ke(r.useState(null),2),d=u[0],m=u[1],p=Ke(r.useState([]),2),h=p[0],v=p[1],f=Ke(r.useState(),2),g=f[0],x=f[1];return r.useEffect((function(){window.portEvents.sub("mapSetTooltip",(function(e){x(e)}))})),r.useEffect((function(){fetch("https://europe.motis-project.de/?elm=requestScheduleInfo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:{},content_type:"MotisNoMessage",destination:{target:"/lookup/schedule_info",type:"Module"}})}).then((function(e){return e.json()})).then((function(e){var t={begin:e.content.begin,end:e.content.end},a=c().unix(t.begin);a.hour(c()().hour()),a.minute(c()().minute()),a.second(c()().second()),n(t),m(a)}))}),[]),r.useEffect((function(){""!==s.id&&v(Ze(h).concat([{id:"stationEvent",station:s,stationTime:c()()}]))}),[s]),(0,a.jsx)("div",{className:"app",children:l.tq?(0,a.jsx)(Oe,{translation:qe(),scheduleInfo:t,searchDate:d,mapData:g,subOverlayContent:h,setSubOverlayContent:v}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ue,{translation:qe(),scheduleInfo:t,searchDate:d,mapData:g,subOverlayContent:h,setSubOverlayContent:v}),(0,a.jsx)(Oe,{translation:qe(),scheduleInfo:t,searchDate:d,mapData:g,subOverlayContent:h,setSubOverlayContent:v}),(0,a.jsx)(Re,{translation:qe(),station:s,setStationSearch:o})]})})};function Ge(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.default,{children:[(0,a.jsx)("title",{children:"MOTIS"}),(0,a.jsx)("script",{type:"text/javascript",src:"js/ports.js"}),(0,a.jsx)("script",{type:"text/javascript",src:"js/main.js"}),(0,a.jsx)("script",{type:"text/javascript",src:"external_lib/mapbox-gl.js"}),(0,a.jsx)("script",{type:"text/javascript",src:"external_lib/gl-matrix-min.js"}),(0,a.jsx)("script",{type:"text/javascript",src:"external_lib/deep-equal.js"}),(0,a.jsx)("script",{type:"text/javascript",src:"external_lib/polyline.js"}),(0,a.jsx)("script",{type:"text/javascript",src:"js/railviz/webgl.js"}),(0,a.jsx)("script",{type:"text/javascript",src:"js/railviz/trains.js"}),(0,a.jsx)("script",{type:"text/javascript",src:"js/railviz/model.js"}),(0,a.jsx)("script",{type:"text/javascript",src:"js/railviz/render.js"}),(0,a.jsx)("script",{type:"text/javascript",src:"js/railviz/textures.js"}),(0,a.jsx)("script",{type:"text/javascript",src:"js/railviz/api.js"}),(0,a.jsx)("script",{type:"text/javascript",src:"js/railviz/markers.js"}),(0,a.jsx)("script",{type:"text/javascript",src:"js/railviz/connectionmgr.js"}),(0,a.jsx)("script",{type:"text/javascript",src:"js/railviz/path_base.js"}),(0,a.jsx)("script",{type:"text/javascript",src:"js/railviz/path_connections.js"}),(0,a.jsx)("script",{type:"text/javascript",src:"js/railviz/path_detail.js"}),(0,a.jsx)("script",{type:"text/javascript",src:"js/railviz/path_extra.js"}),(0,a.jsx)("script",{type:"text/javascript",src:"js/railviz/style.js"}),(0,a.jsx)("script",{type:"text/javascript",src:"js/railviz/main.js"}),(0,a.jsx)("script",{type:"text/javascript",src:"js/map_style.js"}),(0,a.jsx)("script",{type:"text/javascript",src:"js/map.js"}),(0,a.jsx)("link",{href:"fonts/styles.css",rel:"stylesheet"}),(0,a.jsx)("link",{rel:"shortcut icon",href:"favicon.ico"})]}),(0,a.jsx)("div",{id:"app-container",children:(0,a.jsx)(Je,{})}),(0,a.jsxs)("svg",{style:{display:"none"},children:[(0,a.jsx)("symbol",{id:"train",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M4,15.5C4,17.43 5.57,19 7.5,19L6,20.5v0.5h12v-0.5L16.5,19c1.93,0 3.5,-1.57 3.5,-3.5L20,5c0,-3.5 -3.58,-4 -8,-4s-8,0.5 -8,4v10.5zM12,17c-1.1,0 -2,-0.9 -2,-2s0.9,-2 2,-2 2,0.9 2,2 -0.9,2 -2,2zM18,10L6,10L6,5h12v5z"})}),(0,a.jsx)("symbol",{id:"sbahn",viewBox:"0 0 64 64",children:(0,a.jsx)("path",{d:"M 23.9104,17.8176 c 0,-2.7648 2.5344,-5.1456 7.0144,-5.1456 7.8592,0 14.5408,4.224 19.0208,9.0368 l 0,-8.3968 C 44.8,9.3184 38.2976,6.9376 31.0784,6.9376 c -8.6784,0 -18.3296,5.3248 -18.3296,15.232 0,18.8672 28.6208,12.1088 28.6208,23.0144 0,2.9184 -3.7888,5.632 -8.576,5.632 -7.7312,0 -15.4368,-4.7104 -19.6608,-10.7776 l 0,10.0864 c 4.48,3.9936 12.6208,7.168 19.6608,7.168 12.672,0 20.1984,-9.0368 20.1984,-16.768 0,-19.2512 -29.0816,-11.008 -29.0816,-22.7072 z"})}),(0,a.jsx)("symbol",{id:"ubahn",viewBox:"0 0 500 500",children:(0,a.jsx)("path",{d:"M269.02771 462.03556C301.49095 458.86693 331.81940 448.53888 355.90324 432.45098C368.00616 424.36627 385.07594 407.62587 392.49694 396.56338C403.34218 380.39638 411.21817 360.97199 415.43165 340C417.06374 331.87653 417.26314 317.60376 417.59707 185L417.96486 38.947368L317.89474 38.947368L317.89474 172.67306C317.89474 260.58200 317.50921 309.85624 316.76948 316.49013C315.44428 328.37460 311.53547 342.57976 307.56662 349.93462C302.58644 359.16362 293.39802 367.94547 283.81131 372.63882C257.43623 385.55122 218.84256 380.90205 200.54920 362.60869C191.23263 353.29213 184.83222 338.29015 182.14617 319.47368C181.48964 314.87452 181.08649 260.77515 181.07348 175.52632L181.05263 38.947368L82.105263 38.947368L82.105263 177.25689C82.105263 316.01926 82.371267 327.73304 85.920452 345.26316C94.686023 388.55802 121.69624 423.01667 163.04724 443.65869C193.35569 458.78839 232.59204 465.59192 269.02771 462.03556Z"})}),(0,a.jsx)("symbol",{id:"tram",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M17,18C16.4,18 16,17.6 16,17C16,16.4 16.4,16 17,16C17.6,16 18,16.4 18,17C18,17.6 17.6,18 17,18M6.7,10.7L7,7.3C7,6.6 7.6,6 8.3,6H15.6C16.4,6 17,6.6 17,7.3L17.3,10.6C17.3,11.3 16.7,11.9 16,11.9H8C7.3,12 6.7,11.4 6.7,10.7M7,18C6.4,18 6,17.6 6,17C6,16.4 6.4,16 7,16C7.6,16 8,16.4 8,17C8,17.6 7.6,18 7,18M19,6A2,2 0 0,0 17,4H15A2,2 0 0,0 13,2H11A2,2 0 0,0 9,4H7A2,2 0 0,0 5,6L4,18A2,2 0 0,0 6,20H8L7,22H17.1L16.1,20H18A2,2 0 0,0 20,18L19,6Z"})}),(0,a.jsx)("symbol",{id:"bus",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M4,16c0,0.88 0.39,1.67 1,2.22L5,20c0,0.55 0.45,1 1,1h1c0.55,0 1,-0.45 1,-1v-1h8v1c0,0.55 0.45,1 1,1h1c0.55,0 1,-0.45 1,-1v-1.78c0.61,-0.55 1,-1.34 1,-2.22L20,6c0,-3.5 -3.58,-4 -8,-4s-8,0.5 -8,4v10zM7.5,17c-0.83,0 -1.5,-0.67 -1.5,-1.5S6.67,14 7.5,14s1.5,0.67 1.5,1.5S8.33,17 7.5,17zM16.5,17c-0.83,0 -1.5,-0.67 -1.5,-1.5s0.67,-1.5 1.5,-1.5 1.5,0.67 1.5,1.5 -0.67,1.5 -1.5,1.5zM18,11L6,11L6,6h12v5z"})}),(0,a.jsx)("symbol",{id:"walk",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M13.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM9.8 8.9L7 23h2.1l1.8-8 2.1 2v6h2v-7.5l-2.1-2 .6-3C14.8 12 16.8 13 19 13v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1L6 8.3V13h2V9.6l1.8-.7"})}),(0,a.jsxs)("symbol",{id:"bike",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M15.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM5 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5zm5.8-10l2.4-2.4.8.8c1.3 1.3 3 2.1 5.1 2.1V9c-1.5 0-2.7-.6-3.6-1.5l-1.9-1.9c-.5-.4-1-.6-1.6-.6s-1.1.2-1.4.6L7.8 8.4c-.4.4-.6.9-.6 1.4 0 .6.2 1.1.6 1.4L11 14v5h2v-6.2l-2.2-2.3zM19 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5z"})]}),(0,a.jsxs)("symbol",{id:"car",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"}),(0,a.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"})]}),(0,a.jsxs)("symbol",{id:"ship",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M20 21c-1.39 0-2.78-.47-4-1.32-2.44 1.71-5.56 1.71-8 0C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 2.52 1.29 5.48 1.29 8 0 1.26.65 2.62.99 4 .99h2v-2h-2zM3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19zM6 6h12v3.97L12 8 6 9.97V6z"})]}),(0,a.jsxs)("symbol",{id:"plane",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"})]})]}),(0,a.jsx)("svg",{height:"0",children:(0,a.jsx)("defs",{children:(0,a.jsx)("filter",{id:"fadedjtg",children:(0,a.jsx)("feColorMatrix",{type:"saturate",values:"0.0"})})})})]})}},4654:function(){}},function(e){e.O(0,[885,938,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);